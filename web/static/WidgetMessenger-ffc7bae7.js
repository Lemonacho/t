import{w as ye,d as nr,g as Le,S as D,i as B,s as M,j as re,k as y,m as p,n as w,u as se,q as le,r as ie,v as m,x as d,y as v,G as X,J as $,K as h,L as b,P as j,B as S,C as E,H as O,I as P,ac as x,p as C,U as J,aa as rr,M as me,Y as _e,$ as Ee,Z as sr,af as lr,Q as R,W as V,ab as ee,a5 as H,a8 as ne,R as G,ag as $e,a0 as A,ad as Be,a9 as ve,a7 as ue,N as Ne,A as de,ah as ke,ai as ir,aj as Ie,ak as Lt,al as Ke,am as Jr,an as te,ao as he,ap as Ce,a2 as Kr,aq as bt,o as Se,ar as Ze,ae as or,E as q,a6 as ae,a1 as Oe,a4 as Rt,as as fe,_ as rt,at as ce,f as Z,au as ar,av as Qr,a3 as Zr,aw as xr,ax as es,D as ts,l as He,O as fr,z as ns}from"./vendor-7c63ec1d.js";import{i as Et,u as ot,w as Fe,S as Nt,P as Ot,l as ur,g as Me,W as rs,t as oe,I as Pe,X as cr,a as K,b as ss,p as ls,M as is,c as wt,d as dt,e as st,f as vt,h as mr,v as os,j as as,k as fs,m as us,s as cs,n as ms,r as ds,o as gt,q as gs,x as dr,y as _s,F as at,z as Te,A as ps,B as $s,C as ft,D as gr,E as Pt,G as Vt,H as hs,J as bs,K as xe,R as ws,L as _r,N as vs,O as ks,Q as Is,T as Cs,U as Ts,V as pr,Y as As,Z as ys,_ as Ms,$ as Ds,a0 as Bs,a1 as _t,a2 as we,a3 as Ss,a4 as Fs,a5 as Ht,a6 as Ls,a7 as kt,a8 as je,a9 as $r,aa as ge,ab as jt,ac as Wt,ad as Rs,ae as Es,af as hr,ag as br,ah as wr,ai as Ns,aj as Os,ak as vr,al as Ps,am as Vs,an as Hs,ao as pt,ap as js,aq as Ws,ar as zs,as as Gs,at as Us,au as Xs,av as zt,aw as qs,ax as Ys,ay as Js,az as Ks,aA as Qs,aB as Zs,aC as It,aD as Ct,aE as Gt,aF as xs,aG as kr,aH as el,aI as tl,aJ as nl,aK as Re,aL as rl,aM as sl,aN as ll}from"./main-86a99a4e.js";import{T as be,f as Ut,P as il,B as De,S as ol,a as al,A as Ir,C as Cr,b as fl,M as Tt,L as lt,I as ul,g as cl,c as ml,F as dl,W as gl}from"./WidgetMessengerInput-824c990c.js";const et=400,ut=null,_l=!0,pl=s=>{const e=s.initialValues||{},{validators:n,onChange:t,onSubmit:r}=s,l=()=>({...e}),i=Et(e,ut),o=ye(l()),a=ye(i),f=ye(Et(e,!_l)),u=ye(!1),c=nr(a,N=>Object.values(N).every(W=>W===ut)),g=()=>{Object.entries(Le(o)).forEach(([N,W])=>{z(N,W)})},_=N=>{const W=N.target;if(!W)return;const L=W.name||W.id;F(L,W.value)},k=async N=>{if(N&&N.preventDefault&&N.preventDefault(),u.set(!0),g(),!Le(c)){u.set(!1);return}a.set(i),await r(Le(o)),u.set(!1)},I=(N,{shouldValidate:W=!1}={})=>{o.update(L=>({...L,...N})),W&&g()},T=(N,W)=>{F(N,W)},F=(N,W)=>{U(N,W),z(N,W),t&&t(N,W)},U=(N,W)=>{ot(o,N,W)},Y=(N,W)=>{ot(f,N,W)},z=(N,W)=>{Y(N,W);const L=n[N];if(L)for(const Q of L){const{type:Ae,isValid:pe}=Q(W);if(ot(a,N,pe?ut:Ae),!pe)return}};return{form:o,errors:a,isValid:c,isSubmitting:u,handleChange:_,handleSubmit:k,setFieldValue:T,setValues:I}};function $l(s){let e,n;const t=s[2].default,r=re(t,s,s[1],null);return{c(){e=y("a"),r&&r.c(),p(e,"href",s[0]),p(e,"target","_blank"),p(e,"rel","noopener noreferrer"),p(e,"class","hover:text-gray-400 hover:cursor-pointer transition-colors")},m(l,i){w(l,e,i),r&&r.m(e,null),n=!0},p(l,[i]){r&&r.p&&(!n||i&2)&&se(r,t,l,l[1],n?ie(t,l[1],i,null):le(l[1]),null),(!n||i&1)&&p(e,"href",l[0])},i(l){n||(m(r,l),n=!0)},o(l){d(r,l),n=!1},d(l){l&&v(e),r&&r.d(l)}}}function hl(s,e,n){let{$$slots:t={},$$scope:r}=e,{url:l}=e;return s.$$set=i=>{"url"in i&&n(0,l=i.url),"$$scope"in i&&n(1,r=i.$$scope)},[l,r,t]}class Tr extends D{constructor(e){super(),B(this,e,hl,$l,M,{url:0})}}function bl(s){let e,n;const t=s[1].default,r=re(t,s,s[0],null);return{c(){e=y("span"),r&&r.c()},m(l,i){w(l,e,i),r&&r.m(e,null),n=!0},p(l,[i]){r&&r.p&&(!n||i&1)&&se(r,t,l,l[0],n?ie(t,l[0],i,null):le(l[0]),null)},i(l){n||(m(r,l),n=!0)},o(l){d(r,l),n=!1},d(l){l&&v(e),r&&r.d(l)}}}function wl(s,e,n){let{$$slots:t={},$$scope:r}=e;return s.$$set=l=>{"$$scope"in l&&n(0,r=l.$$scope)},[r,t]}class At extends D{constructor(e){super(),B(this,e,wl,bl,M,{})}}function vl(s){let e,n;return e=new At({props:{$$slots:{default:[Il]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&4&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function kl(s){let e,n;return e=new Tr({props:{url:s[0],$$slots:{default:[Tl]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&4&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Il(s){let e;return{c(){e=j(s[1])},m(n,t){w(n,e,t)},p:S,d(n){n&&v(e)}}}function Cl(s){let e;return{c(){e=j(s[1])},m(n,t){w(n,e,t)},p:S,d(n){n&&v(e)}}}function Tl(s){let e,n;return e=new At({props:{$$slots:{default:[Cl]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&4&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Al(s){let e,n,t,r;const l=[kl,vl],i=[];function o(a,f){return a[0]?0:1}return e=o(s),n=i[e]=l[e](s),{c(){n.c(),t=X()},m(a,f){i[e].m(a,f),w(a,t,f),r=!0},p(a,[f]){n.p(a,f)},i(a){r||(m(n),r=!0)},o(a){d(n),r=!1},d(a){a&&v(t),i[e].d(a)}}}function yl(s){const{customBrandingLink:e,customBrandingText:n}=Fe.getOptions();return[e,n]}class Ml extends D{constructor(e){super(),B(this,e,yl,Al,M,{})}}function Dl(s){let e;return{c(){e=j("Powered by Smartsupp")},m(n,t){w(n,e,t)},d(n){n&&v(e)}}}function Bl(s){let e,n;return e=new At({props:{$$slots:{default:[Dl]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&128&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Sl(s){let e,n;return e=new Tr({props:{url:`${Nt}${s[4](s[0])}${Ot}/?utm_source=chat-widget-${s[3]}&utm_medium=chat-widget&utm_campaign=${s[1]}&domain=${s[2]}`,$$slots:{default:[Bl]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,[r]){const l={};r&1&&(l.url=`${Nt}${t[4](t[0])}${Ot}/?utm_source=chat-widget-${t[3]}&utm_medium=chat-widget&utm_campaign=${t[1]}&domain=${t[2]}`),r&128&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Fl(s,e,n){let t;E(s,ur,u=>n(0,t=u));const{packageName:r}=Fe.getOptions(),l=Me().location.host||"",i=Me().location.hostname||"";let o=r==="trial"?"pro":r;const a=u=>rs.includes(u);return[t,l,i,o,u=>a(u)?`/${u}`:""]}class Ll extends D{constructor(e){super(),B(this,e,Fl,Sl,M,{})}}function Xt(s){let e,n,t,r;const l=[El,Rl],i=[];function o(a,f){return a[1]?0:1}return n=o(s),t=i[n]=l[n](s),{c(){e=y("div"),t.c(),p(e,"class","flex-center text-xs text-gray-300 select-none")},m(a,f){w(a,e,f),i[n].m(e,null),r=!0},p:S,i(a){r||(m(t),r=!0)},o(a){d(t),r=!1},d(a){a&&v(e),i[n].d()}}}function Rl(s){let e,n;return e=new Ll({}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function El(s){let e,n;return e=new Ml({}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Nl(s){let e,n,t=s[0]&&Xt(s);return{c(){t&&t.c(),e=X()},m(r,l){t&&t.m(r,l),w(r,e,l),n=!0},p(r,[l]){r[0]?t?(t.p(r,l),l&1&&m(t,1)):(t=Xt(r),t.c(),m(t,1),t.m(e.parentNode,e)):t&&(O(),d(t,1,1,()=>{t=null}),P())},i(r){n||(m(t),n=!0)},o(r){d(t),n=!1},d(r){r&&v(e),t&&t.d(r)}}}function Ol(s,e,n){let t;const{features:r,customBrandingEnabled:l}=Fe.getOptions(),i=!!(r&&r.whiteLabel);return n(0,t=!i),[t,l]}class Ar extends D{constructor(e){super(),B(this,e,Ol,Nl,M,{})}}function Pl(s){let e,n;return e=new Pe({props:{icon:cr,iconDescription:"Close",size:"md",testId:K.buttonCloseDrawer}}),e.$on("click",s[1]),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p:S,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Vl(s){let e,n,t;return n=new be({props:{content:s[0]("tooltip.close"),placement:"bottom",delay:1e3,$$slots:{default:[Pl]},$$scope:{ctx:s}}}),{c(){e=y("div"),$(n.$$.fragment),p(e,"class","absolute right-3 top-3 text-neutral-500")},m(r,l){w(r,e,l),h(n,e,null),t=!0},p(r,[l]){const i={};l&1&&(i.content=r[0]("tooltip.close")),l&4&&(i.$$scope={dirty:l,ctx:r}),n.$set(i)},i(r){t||(m(n.$$.fragment,r),t=!0)},o(r){d(n.$$.fragment,r),t=!1},d(r){r&&v(e),b(n)}}}function Hl(s,e,n){let t;E(s,oe,l=>n(0,t=l));function r(l){x.call(this,s,l)}return[t,r]}class jl extends D{constructor(e){super(),B(this,e,Hl,Vl,M,{})}}function Wl(s){let e,n,t,r;return t=new Ar({}),{c(){e=y("div"),n=y("div"),$(t.$$.fragment),p(n,"class","py-3 border-t-2 border-t-neutral-100"),p(e,"class","flex-shrink text-neutral-400 text-xs text-center px-8")},m(l,i){w(l,e,i),C(e,n),h(t,n,null),r=!0},p:S,i(l){r||(m(t.$$.fragment,l),r=!0)},o(l){d(t.$$.fragment,l),r=!1},d(l){l&&v(e),b(t)}}}class zl extends D{constructor(e){super(),B(this,e,null,Wl,M,{})}}function Gl(s){let e,n,t,r,l,i;const o=s[1].default,a=re(o,s,s[0],null);return{c(){e=y("div"),a&&a.c(),p(e,"class","absolute bottom-0 left-0 z-1 overflow-hidden w-full h-full bg-neutral-600/40")},m(f,u){w(f,e,u),a&&a.m(e,null),r=!0,l||(i=J(e,"click",rr(s[2])),l=!0)},p(f,[u]){a&&a.p&&(!r||u&1)&&se(a,o,f,f[0],r?ie(o,f[0],u,null):le(f[0]),null)},i(f){r||(m(a,f),me(()=>{r&&(t&&t.end(1),n=_e(e,Ee,{duration:et}),n.start())}),r=!0)},o(f){d(a,f),n&&n.invalidate(),t=sr(e,Ee,{duration:et}),r=!1},d(f){f&&v(e),a&&a.d(f),f&&t&&t.end(),l=!1,i()}}}function Ul(s,e,n){let{$$slots:t={},$$scope:r}=e;function l(i){x.call(this,s,i)}return s.$$set=i=>{"$$scope"in i&&n(0,r=i.$$scope)},[r,t,l]}class Xl extends D{constructor(e){super(),B(this,e,Ul,Gl,M,{})}}function qt(s){let e,n;return e=new Xl({props:{$$slots:{default:[ql]},$$scope:{ctx:s}}}),e.$on("click",s[5]),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&258&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function ql(s){let e,n,t,r,l,i,o,a,f,u;n=new jl({}),n.$on("click",s[5]);const c=s[6].default,g=re(c,s,s[8],null);return l=new zl({}),{c(){e=y("div"),$(n.$$.fragment),t=R(),g&&g.c(),r=R(),$(l.$$.fragment),p(e,"class","absolute bottom-0 left-0 bg-white flex flex-col w-full"),p(e,"data-testid",s[1]),V(e,"border-top-left-radius",s[3]),V(e,"border-top-right-radius",s[3]),V(e,"max-height","calc(100% - 16px)")},m(_,k){w(_,e,k),h(n,e,null),C(e,t),g&&g.m(e,null),C(e,r),h(l,e,null),a=!0,f||(u=J(e,"click",rr(s[7])),f=!0)},p(_,k){s=_,g&&g.p&&(!a||k&256)&&se(g,c,s,s[8],a?ie(c,s[8],k,null):le(s[8]),null),(!a||k&2)&&p(e,"data-testid",s[1])},i(_){a||(m(n.$$.fragment,_),m(g,_),m(l.$$.fragment,_),me(()=>{a&&(o&&o.end(1),i=_e(e,Ut,{...s[4],delay:s[2]?et:0}),i.start())}),a=!0)},o(_){d(n.$$.fragment,_),d(g,_),d(l.$$.fragment,_),i&&i.invalidate(),o=sr(e,Ut,s[4]),a=!1},d(_){_&&v(e),b(n),g&&g.d(_),b(l),_&&o&&o.end(),f=!1,u()}}}function Yl(s){let e,n,t=s[0]&&qt(s);return{c(){t&&t.c(),e=X()},m(r,l){t&&t.m(r,l),w(r,e,l),n=!0},p(r,[l]){r[0]?t?(t.p(r,l),l&1&&m(t,1)):(t=qt(r),t.c(),m(t,1),t.m(e.parentNode,e)):t&&(O(),d(t,1,1,()=>{t=null}),P())},i(r){n||(m(t),n=!0)},o(r){d(t),n=!1},d(r){r&&v(e),t&&t.d(r)}}}function Jl(s,e,n){let t;E(s,ss,_=>n(2,t=_));let{$$slots:r={},$$scope:l}=e,{isOpen:i=!0}=e,{testId:o=void 0}=e;const a=lr(),f=ls(is),u={y:"100%",opacity:1,duration:et},c=()=>a("close");function g(_){x.call(this,s,_)}return s.$$set=_=>{"isOpen"in _&&n(0,i=_.isOpen),"testId"in _&&n(1,o=_.testId),"$$scope"in _&&n(8,l=_.$$scope)},[i,o,t,f,u,c,r,g,l]}class We extends D{constructor(e){super(),B(this,e,Jl,Yl,M,{isOpen:0,testId:1})}}function Kl(s){let e,n;const t=s[1].default,r=re(t,s,s[0],null);return{c(){e=y("div"),r&&r.c(),p(e,"class","px-8 pt-1 pb-4")},m(l,i){w(l,e,i),r&&r.m(e,null),n=!0},p(l,[i]){r&&r.p&&(!n||i&1)&&se(r,t,l,l[0],n?ie(t,l[0],i,null):le(l[0]),null)},i(l){n||(m(r,l),n=!0)},o(l){d(r,l),n=!1},d(l){l&&v(e),r&&r.d(l)}}}function Ql(s,e,n){let{$$slots:t={},$$scope:r}=e;return s.$$set=l=>{"$$scope"in l&&n(0,r=l.$$scope)},[r,t]}class yr extends D{constructor(e){super(),B(this,e,Ql,Kl,M,{})}}function Zl(s){let e,n;const t=s[1].default,r=re(t,s,s[0],null);return{c(){e=y("div"),r&&r.c(),p(e,"class","flex-grow flex flex-col px-8 py-2 overflow-y-auto text-slate-800")},m(l,i){w(l,e,i),r&&r.m(e,null),n=!0},p(l,[i]){r&&r.p&&(!n||i&1)&&se(r,t,l,l[0],n?ie(t,l[0],i,null):le(l[0]),null)},i(l){n||(m(r,l),n=!0)},o(l){d(r,l),n=!1},d(l){l&&v(e),r&&r.d(l)}}}function xl(s,e,n){let{$$slots:t={},$$scope:r}=e;return s.$$set=l=>{"$$scope"in l&&n(0,r=l.$$scope)},[r,t]}class ze extends D{constructor(e){super(),B(this,e,xl,Zl,M,{})}}function ei(s){let e,n,t;const r=s[2].default,l=re(r,s,s[1],null);return{c(){e=y("div"),l&&l.c(),p(e,"class",n="text-sm leading-4.5 color-slate-500 break-words "+(s[0].class||""))},m(i,o){w(i,e,o),l&&l.m(e,null),t=!0},p(i,[o]){l&&l.p&&(!t||o&2)&&se(l,r,i,i[1],t?ie(r,i[1],o,null):le(i[1]),null),(!t||o&1&&n!==(n="text-sm leading-4.5 color-slate-500 break-words "+(i[0].class||"")))&&p(e,"class",n)},i(i){t||(m(l,i),t=!0)},o(i){d(l,i),t=!1},d(i){i&&v(e),l&&l.d(i)}}}function ti(s,e,n){const t=[];let r=ee(e,t),{$$slots:l={},$$scope:i}=e;return s.$$set=o=>{e=H(H({},e),ne(o)),n(0,r=ee(e,t)),"$$scope"in o&&n(1,i=o.$$scope)},[r,i,l]}class Mr extends D{constructor(e){super(),B(this,e,ti,ei,M,{})}}function ni(s){let e,n,t;return{c(){e=y("div"),n=y("span"),t=j(s[0]),p(n,"class","text-lg font-bold text-slate-800 w-0 break-words"),p(e,"class","px-8 pt-9 pb-2 flex-shrink")},m(r,l){w(r,e,l),C(e,n),C(n,t)},p(r,[l]){l&1&&G(t,r[0])},i:S,o:S,d(r){r&&v(e)}}}function ri(s,e,n){let{title:t}=e;return s.$$set=r=>{"title"in r&&n(0,t=r.title)},[t]}class Ge extends D{constructor(e){super(),B(this,e,ri,ni,M,{title:0})}}function si(s){let e,n,t,r,l,i,o;return{c(){e=y("label"),n=y("input"),r=R(),l=y("div"),p(n,"type","checkbox"),n.__value=s[0],$e(n,n.__value),p(n,"id",s[4]),p(n,"name",s[1]),p(n,"class","sr-only peer"),n.disabled=s[2],p(n,"data-testid",t=`${s[3]}Switch`),p(l,"class","switch svelte-yohxal"),A(l,"checked",s[0]),p(e,"for",s[4]),p(e,"class","inline-flex relative items-center cursor-pointer")},m(a,f){w(a,e,f),C(e,n),n.checked=s[0],C(e,r),C(e,l),i||(o=[J(n,"change",s[5]),J(n,"change",s[6])],i=!0)},p(a,[f]){f&1&&(n.__value=a[0],$e(n,n.__value)),f&2&&p(n,"name",a[1]),f&4&&(n.disabled=a[2]),f&8&&t!==(t=`${a[3]}Switch`)&&p(n,"data-testid",t),f&1&&(n.checked=a[0]),f&1&&A(l,"checked",a[0])},i:S,o:S,d(a){a&&v(e),i=!1,Be(o)}}}function li(s,e,n){let{name:t}=e,{value:r}=e,{disabled:l=!1}=e,{testId:i}=e;const o=lr(),a=`switch-${wt()}`,f=c=>{const g=c.target;o("change",g.checked)};function u(){r=this.checked,n(0,r)}return s.$$set=c=>{"name"in c&&n(1,t=c.name),"value"in c&&n(0,r=c.value),"disabled"in c&&n(2,l=c.disabled),"testId"in c&&n(3,i=c.testId)},[r,t,l,i,a,f,u]}class Dr extends D{constructor(e){super(),B(this,e,li,si,M,{name:1,value:0,disabled:2,testId:3})}}function ii(s){let e,n,t,r,l,i=[{"aria-invalid":n=s[1]||void 0},{class:"block w-full px-3 py-2 text-base-input leading-5.5 border border-slate-200 text-slate-800 rounded-xl focus:border-blue-500 focus:ring-blue-500 placeholder:text-slate-300 transition-colors"},{maxlength:dt},{autocomplete:t=st()?"off":void 0},s[4],{"data-testid":s[2]}],o={};for(let a=0;a<i.length;a+=1)o=H(o,i[a]);return{c(){e=y("input"),ve(e,o),A(e,"text-sm",s[3]),A(e,"invalid",s[1]),A(e,"svelte-1ciict0",!0)},m(a,f){w(a,e,f),e.autofocus&&e.focus(),$e(e,s[0]),r||(l=[J(e,"input",s[8]),J(e,"change",s[5]),J(e,"blur",s[6]),J(e,"input",s[7])],r=!0)},p(a,[f]){ve(e,o=ue(i,[f&2&&n!==(n=a[1]||void 0)&&{"aria-invalid":n},{class:"block w-full px-3 py-2 text-base-input leading-5.5 border border-slate-200 text-slate-800 rounded-xl focus:border-blue-500 focus:ring-blue-500 placeholder:text-slate-300 transition-colors"},{maxlength:dt},{autocomplete:t},f&16&&a[4],f&4&&{"data-testid":a[2]}])),f&1&&e.value!==a[0]&&$e(e,a[0]),A(e,"text-sm",a[3]),A(e,"invalid",a[1]),A(e,"svelte-1ciict0",!0)},i:S,o:S,d(a){a&&v(e),r=!1,Be(l)}}}function oi(s,e,n){const t=["value","isInvalid","testId"];let r=ee(e,t),l;E(s,vt,_=>n(3,l=_));let{value:i=""}=e,{isInvalid:o=!1}=e,{testId:a=void 0}=e;function f(_){x.call(this,s,_)}function u(_){x.call(this,s,_)}function c(_){x.call(this,s,_)}function g(){i=this.value,n(0,i)}return s.$$set=_=>{e=H(H({},e),ne(_)),n(4,r=ee(e,t)),"value"in _&&n(0,i=_.value),"isInvalid"in _&&n(1,o=_.isInvalid),"testId"in _&&n(2,a=_.testId)},[i,o,a,l,r,f,u,c,g]}class ai extends D{constructor(e){super(),B(this,e,oi,ii,M,{value:0,isInvalid:1,testId:2})}}function fi(s){let e,n;const t=s[2].default,r=re(t,s,s[1],null);let l=[s[0],{class:"block mb-1 text-xs text-slate-500 font-medium"}],i={};for(let o=0;o<l.length;o+=1)i=H(i,l[o]);return{c(){e=y("label"),r&&r.c(),ve(e,i)},m(o,a){w(o,e,a),r&&r.m(e,null),n=!0},p(o,[a]){r&&r.p&&(!n||a&2)&&se(r,t,o,o[1],n?ie(t,o[1],a,null):le(o[1]),null),ve(e,i=ue(l,[a&1&&o[0],{class:"block mb-1 text-xs text-slate-500 font-medium"}]))},i(o){n||(m(r,o),n=!0)},o(o){d(r,o),n=!1},d(o){o&&v(e),r&&r.d(o)}}}function ui(s,e,n){const t=[];let r=ee(e,t),{$$slots:l={},$$scope:i}=e;return s.$$set=o=>{e=H(H({},e),ne(o)),n(0,r=ee(e,t)),"$$scope"in o&&n(1,i=o.$$scope)},[r,i,l]}class Br extends D{constructor(e){super(),B(this,e,ui,fi,M,{})}}function ci(s){let e,n,t;const r=s[1].default,l=re(r,s,s[0],null);return{c(){e=y("div"),l&&l.c(),p(e,"class","absolute bottom-[-8px] right-[16px] bg-white px-1")},m(i,o){w(i,e,o),l&&l.m(e,null),t=!0},p(i,[o]){l&&l.p&&(!t||o&1)&&se(l,r,i,i[0],t?ie(r,i[0],o,null):le(i[0]),null)},i(i){t||(m(l,i),i&&me(()=>{t&&(n||(n=Ne(e,Ee,{duration:100},!0)),n.run(1))}),t=!0)},o(i){d(l,i),i&&(n||(n=Ne(e,Ee,{duration:100},!1)),n.run(0)),t=!1},d(i){i&&v(e),l&&l.d(i),i&&n&&n.end()}}}function mi(s,e,n){let{$$slots:t={},$$scope:r}=e;return s.$$set=l=>{"$$scope"in l&&n(0,r=l.$$scope)},[r,t]}class Sr extends D{constructor(e){super(),B(this,e,mi,ci,M,{})}}function Yt(s){let e,n=s[1](s[0])+"",t;return{c(){e=y("div"),t=j(n),p(e,"role","alert"),p(e,"class","text-xs color-red-500")},m(r,l){w(r,e,l),C(e,t)},p(r,l){l&3&&n!==(n=r[1](r[0])+"")&&G(t,n)},d(r){r&&v(e)}}}function di(s){let e,n=s[0]&&Yt(s);return{c(){n&&n.c(),e=X()},m(t,r){n&&n.m(t,r),w(t,e,r)},p(t,[r]){t[0]?n?n.p(t,r):(n=Yt(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:S,o:S,d(t){t&&v(e),n&&n.d(t)}}}function gi(s,e,n){let t,r;E(s,oe,f=>n(1,r=f));let{name:l}=e,{errors:i}=e;const o={email:"validations.isEmail",phone:"validations.phone",required:"validations.required",checked:"validations.checkedTerms"};let a;return s.$$set=f=>{"name"in f&&n(2,l=f.name),"errors"in f&&n(3,i=f.errors)},s.$$.update=()=>{s.$$.dirty&12&&n(4,t=i[l]),s.$$.dirty&16&&n(0,a=t?o[t]:null)},[a,r,l,i,t]}class yt extends D{constructor(e){super(),B(this,e,gi,di,M,{name:2,errors:3})}}function Jt(s){let e,n;return e=new Br({props:{for:s[1],$$slots:{default:[_i]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&2&&(l.for=t[1]),r&2056&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function _i(s){let e;return{c(){e=j(s[3])},m(n,t){w(n,e,t)},p(n,t){t&8&&G(e,n[3])},d(n){n&&v(e)}}}function Kt(s){let e,n;return e=new Sr({props:{$$slots:{default:[pi]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&2068&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function pi(s){let e,n;return e=new yt({props:{name:s[2],errors:s[4]}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&4&&(l.name=t[2]),r&16&&(l.errors=t[4]),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function $i(s){let e,n,t,r,l,i,o=s[3]&&Jt(s);const a=[{id:s[1]},{name:s[2]},{isInvalid:s[5]},{testId:`${s[2]}Input`},s[6]];function f(g){s[7](g)}let u={};for(let g=0;g<a.length;g+=1)u=H(u,a[g]);s[0]!==void 0&&(u.value=s[0]),t=new ai({props:u}),de.push(()=>ke(t,"value",f)),t.$on("change",s[8]),t.$on("blur",s[9]),t.$on("input",s[10]);let c=s[5]&&Kt(s);return{c(){e=y("div"),o&&o.c(),n=R(),$(t.$$.fragment),l=R(),c&&c.c(),p(e,"class","relative mb-3")},m(g,_){w(g,e,_),o&&o.m(e,null),C(e,n),h(t,e,null),C(e,l),c&&c.m(e,null),i=!0},p(g,[_]){g[3]?o?(o.p(g,_),_&8&&m(o,1)):(o=Jt(g),o.c(),m(o,1),o.m(e,n)):o&&(O(),d(o,1,1,()=>{o=null}),P());const k=_&102?ue(a,[_&2&&{id:g[1]},_&4&&{name:g[2]},_&32&&{isInvalid:g[5]},_&4&&{testId:`${g[2]}Input`},_&64&&ir(g[6])]):{};!r&&_&1&&(r=!0,k.value=g[0],Ie(()=>r=!1)),t.$set(k),g[5]?c?(c.p(g,_),_&32&&m(c,1)):(c=Kt(g),c.c(),m(c,1),c.m(e,null)):c&&(O(),d(c,1,1,()=>{c=null}),P())},i(g){i||(m(o),m(t.$$.fragment,g),m(c),i=!0)},o(g){d(o),d(t.$$.fragment,g),d(c),i=!1},d(g){g&&v(e),o&&o.d(),b(t),c&&c.d()}}}function hi(s,e,n){let t;const r=["id","value","name","label","errors"];let l=ee(e,r),{id:i=`input-${wt()}`}=e,{value:o}=e,{name:a}=e,{label:f=void 0}=e,{errors:u}=e;function c(I){o=I,n(0,o)}function g(I){x.call(this,s,I)}function _(I){x.call(this,s,I)}function k(I){x.call(this,s,I)}return s.$$set=I=>{e=H(H({},e),ne(I)),n(6,l=ee(e,r)),"id"in I&&n(1,i=I.id),"value"in I&&n(0,o=I.value),"name"in I&&n(2,a=I.name),"label"in I&&n(3,f=I.label),"errors"in I&&n(4,u=I.errors)},s.$$.update=()=>{s.$$.dirty&20&&n(5,t=!!u[a])},[o,i,a,f,u,t,l,c,g,_,k]}class bi extends D{constructor(e){super(),B(this,e,hi,$i,M,{id:1,value:0,name:2,label:3,errors:4})}}function Qt(s){let e,n;return{c(){e=y("option"),n=j(s[1]),e.__value="",$e(e,e.__value)},m(t,r){w(t,e,r),C(e,n)},p(t,r){r&2&&G(n,t[1])},d(t){t&&v(e)}}}function wi(s){let e,n,t,r,l,i,o=s[1]&&Qt(s);const a=s[7].default,f=re(a,s,s[6],null);let u=[{"aria-invalid":t=s[2]||void 0},s[5],{class:"block w-full h-10 px-3 py-2 bg-white text-base-input text-slate-800 border border-slate-200 rounded-xl"},{"data-testid":s[3]}],c={};for(let g=0;g<u.length;g+=1)c=H(c,u[g]);return{c(){e=y("select"),o&&o.c(),n=X(),f&&f.c(),ve(e,c),s[0]===void 0&&me(()=>s[10].call(e)),A(e,"text-sm",s[4]),A(e,"invalid",s[2]),A(e,"svelte-fj2pa2",!0)},m(g,_){w(g,e,_),o&&o.m(e,null),C(e,n),f&&f.m(e,null),"value"in c&&(c.multiple?Lt:Ke)(e,c.value),e.autofocus&&e.focus(),Ke(e,s[0],!0),r=!0,l||(i=[J(e,"change",s[10]),J(e,"change",s[8]),J(e,"blur",s[9])],l=!0)},p(g,[_]){g[1]?o?o.p(g,_):(o=Qt(g),o.c(),o.m(e,n)):o&&(o.d(1),o=null),f&&f.p&&(!r||_&64)&&se(f,a,g,g[6],r?ie(a,g[6],_,null):le(g[6]),null),ve(e,c=ue(u,[(!r||_&4&&t!==(t=g[2]||void 0))&&{"aria-invalid":t},_&32&&g[5],{class:"block w-full h-10 px-3 py-2 bg-white text-base-input text-slate-800 border border-slate-200 rounded-xl"},(!r||_&8)&&{"data-testid":g[3]}])),_&44&&"value"in c&&(c.multiple?Lt:Ke)(e,c.value),_&1&&Ke(e,g[0]),A(e,"text-sm",g[4]),A(e,"invalid",g[2]),A(e,"svelte-fj2pa2",!0)},i(g){r||(m(f,g),r=!0)},o(g){d(f,g),r=!1},d(g){g&&v(e),o&&o.d(),f&&f.d(g),l=!1,Be(i)}}}function vi(s,e,n){const t=["value","placeholder","isInvalid","testId"];let r=ee(e,t),l;E(s,vt,I=>n(4,l=I));let{$$slots:i={},$$scope:o}=e,{value:a=""}=e,{placeholder:f=void 0}=e,{isInvalid:u=!1}=e,{testId:c=void 0}=e;function g(I){x.call(this,s,I)}function _(I){x.call(this,s,I)}function k(){a=Jr(this),n(0,a)}return s.$$set=I=>{e=H(H({},e),ne(I)),n(5,r=ee(e,t)),"value"in I&&n(0,a=I.value),"placeholder"in I&&n(1,f=I.placeholder),"isInvalid"in I&&n(2,u=I.isInvalid),"testId"in I&&n(3,c=I.testId),"$$scope"in I&&n(6,o=I.$$scope)},[a,f,u,c,l,r,o,i,g,_,k]}class ki extends D{constructor(e){super(),B(this,e,vi,wi,M,{value:0,placeholder:1,isInvalid:2,testId:3})}}function Ii(s){let e,n=(s[1]||s[0])+"",t;return{c(){e=y("option"),t=j(n),e.__value=s[0],$e(e,e.__value)},m(r,l){w(r,e,l),C(e,t)},p(r,[l]){l&3&&n!==(n=(r[1]||r[0])+"")&&G(t,n),l&1&&(e.__value=r[0],$e(e,e.__value))},i:S,o:S,d(r){r&&v(e)}}}function Ci(s,e,n){let{value:t=""}=e,{text:r=""}=e;return s.$$set=l=>{"value"in l&&n(0,t=l.value),"text"in l&&n(1,r=l.text)},[t,r]}class Ti extends D{constructor(e){super(),B(this,e,Ci,Ii,M,{value:0,text:1})}}function Zt(s,e,n){const t=s.slice();return t[12]=e[n],t}function xt(s){let e,n;return e=new Br({props:{for:s[1],$$slots:{default:[Ai]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&2&&(l.for=t[1]),r&32776&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Ai(s){let e;return{c(){e=j(s[3])},m(n,t){w(n,e,t)},p(n,t){t&8&&G(e,n[3])},d(n){n&&v(e)}}}function en(s,e){let n,t,r;return t=new Ti({props:{text:e[12].text,value:e[12].value}}),{key:s,first:null,c(){n=X(),$(t.$$.fragment),this.first=n},m(l,i){w(l,n,i),h(t,l,i),r=!0},p(l,i){e=l;const o={};i&64&&(o.text=e[12].text),i&64&&(o.value=e[12].value),t.$set(o)},i(l){r||(m(t.$$.fragment,l),r=!0)},o(l){d(t.$$.fragment,l),r=!1},d(l){l&&v(n),b(t,l)}}}function yi(s){let e=[],n=new Map,t,r,l=te(s[6]);const i=o=>o[12].value;for(let o=0;o<l.length;o+=1){let a=Zt(s,l,o),f=i(a);n.set(f,e[o]=en(f,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();t=X()},m(o,a){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(o,a);w(o,t,a),r=!0},p(o,a){a&64&&(l=te(o[6]),O(),e=he(e,a,i,1,o,l,n,t.parentNode,Ce,en,t,Zt),P())},i(o){if(!r){for(let a=0;a<l.length;a+=1)m(e[a]);r=!0}},o(o){for(let a=0;a<e.length;a+=1)d(e[a]);r=!1},d(o){o&&v(t);for(let a=0;a<e.length;a+=1)e[a].d(o)}}}function tn(s){let e,n;return e=new Sr({props:{$$slots:{default:[Mi]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&32804&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Mi(s){let e,n;return e=new yt({props:{name:s[2],errors:s[5]}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&4&&(l.name=t[2]),r&32&&(l.errors=t[5]),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Di(s){let e,n,t,r,l,i,o=s[3]&&xt(s);const a=[{id:s[1]},{name:s[2]},{placeholder:s[4]},{isInvalid:s[7]},s[8],{testId:`${s[2]}Select`}];function f(g){s[9](g)}let u={$$slots:{default:[yi]},$$scope:{ctx:s}};for(let g=0;g<a.length;g+=1)u=H(u,a[g]);s[0]!==void 0&&(u.value=s[0]),t=new ki({props:u}),de.push(()=>ke(t,"value",f)),t.$on("change",s[10]),t.$on("blur",s[11]);let c=s[7]&&tn(s);return{c(){e=y("div"),o&&o.c(),n=R(),$(t.$$.fragment),l=R(),c&&c.c(),p(e,"class","relative mb-3")},m(g,_){w(g,e,_),o&&o.m(e,null),C(e,n),h(t,e,null),C(e,l),c&&c.m(e,null),i=!0},p(g,[_]){g[3]?o?(o.p(g,_),_&8&&m(o,1)):(o=xt(g),o.c(),m(o,1),o.m(e,n)):o&&(O(),d(o,1,1,()=>{o=null}),P());const k=_&406?ue(a,[_&2&&{id:g[1]},_&4&&{name:g[2]},_&16&&{placeholder:g[4]},_&128&&{isInvalid:g[7]},_&256&&ir(g[8]),_&4&&{testId:`${g[2]}Select`}]):{};_&32832&&(k.$$scope={dirty:_,ctx:g}),!r&&_&1&&(r=!0,k.value=g[0],Ie(()=>r=!1)),t.$set(k),g[7]?c?(c.p(g,_),_&128&&m(c,1)):(c=tn(g),c.c(),m(c,1),c.m(e,null)):c&&(O(),d(c,1,1,()=>{c=null}),P())},i(g){i||(m(o),m(t.$$.fragment,g),m(c),i=!0)},o(g){d(o),d(t.$$.fragment,g),d(c),i=!1},d(g){g&&v(e),o&&o.d(),b(t),c&&c.d()}}}function Bi(s,e,n){let t;const r=["id","value","name","label","placeholder","errors","options"];let l=ee(e,r),{id:i=`input-${wt()}`}=e,{value:o}=e,{name:a}=e,{label:f=void 0}=e,{placeholder:u=void 0}=e,{errors:c}=e,{options:g}=e;function _(T){o=T,n(0,o)}function k(T){x.call(this,s,T)}function I(T){x.call(this,s,T)}return s.$$set=T=>{e=H(H({},e),ne(T)),n(8,l=ee(e,r)),"id"in T&&n(1,i=T.id),"value"in T&&n(0,o=T.value),"name"in T&&n(2,a=T.name),"label"in T&&n(3,f=T.label),"placeholder"in T&&n(4,u=T.placeholder),"errors"in T&&n(5,c=T.errors),"options"in T&&n(6,g=T.options)},s.$$.update=()=>{s.$$.dirty&36&&n(7,t=!!c[a])},[o,i,a,f,u,c,g,t,l,_,k,I]}class Si extends D{constructor(e){super(),B(this,e,Bi,Di,M,{id:1,value:0,name:2,label:3,placeholder:4,errors:5,options:6})}}const Fi=s=>({}),nn=s=>({}),Li=s=>({}),rn=s=>({});function sn(s){let e,n;const t=s[4].control,r=re(t,s,s[3],rn);return{c(){e=y("div"),r&&r.c(),p(e,"class","ml-2")},m(l,i){w(l,e,i),r&&r.m(e,null),n=!0},p(l,i){r&&r.p&&(!n||i&8)&&se(r,t,l,l[3],n?ie(t,l[3],i,Li):le(l[3]),rn)},i(l){n||(m(r,l),n=!0)},o(l){d(r,l),n=!1},d(l){l&&v(e),r&&r.d(l)}}}function Ri(s){let e,n,t,r,l;n=new il({props:{label:s[0]}});let i=s[2].control&&sn(s);const o=s[4].feedback,a=re(o,s,s[3],nn);return{c(){e=y("div"),$(n.$$.fragment),t=R(),i&&i.c(),r=R(),a&&a.c(),p(e,"class","flex items-center pt-1 pb-3"),p(e,"data-testid",K.authFormPrivacyNotice),A(e,"justify-between",!s[1]),A(e,"justify-center",s[1])},m(f,u){w(f,e,u),h(n,e,null),C(e,t),i&&i.m(e,null),w(f,r,u),a&&a.m(f,u),l=!0},p(f,[u]){const c={};u&1&&(c.label=f[0]),n.$set(c),f[2].control?i?(i.p(f,u),u&4&&m(i,1)):(i=sn(f),i.c(),m(i,1),i.m(e,null)):i&&(O(),d(i,1,1,()=>{i=null}),P()),(!l||u&2)&&A(e,"justify-between",!f[1]),(!l||u&2)&&A(e,"justify-center",f[1]),a&&a.p&&(!l||u&8)&&se(a,o,f,f[3],l?ie(o,f[3],u,Fi):le(f[3]),nn)},i(f){l||(m(n.$$.fragment,f),m(i),m(a,f),l=!0)},o(f){d(n.$$.fragment,f),d(i),d(a,f),l=!1},d(f){f&&(v(e),v(r)),b(n),i&&i.d(),a&&a.d(f)}}}function Ei(s,e,n){let{$$slots:t={},$$scope:r}=e;const l=Kr(t);let{label:i}=e,{isControlHidden:o}=e;return s.$$set=a=>{"label"in a&&n(0,i=a.label),"isControlHidden"in a&&n(1,o=a.isControlHidden),"$$scope"in a&&n(3,r=a.$$scope)},[i,o,l,r,t]}class Ni extends D{constructor(e){super(),B(this,e,Ei,Ri,M,{label:0,isControlHidden:1})}}function ln(s,e,n){const t=s.slice();return t[20]=e[n],t[21]=e,t[22]=n,t}function Oi(s){let e,n;return e=new Ni({props:{label:s[1](s[20].label),isControlHidden:!!s[20].isHidden,$$slots:{feedback:[Wi],control:[ji]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&2&&(l.label=t[1](t[20].label)),r&8388620&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Pi(s){let e,n,t;function r(i){s[14](i,s[20])}let l={name:s[20].name,label:s[1](s[20].label),placeholder:s[20].placeholder?s[1](s[20].placeholder):void 0,options:s[20].options,errors:s[3]};return s[2][s[20].name]!==void 0&&(l.value=s[2][s[20].name]),e=new Si({props:l}),de.push(()=>ke(e,"value",r)),e.$on("change",s[8]),e.$on("blur",s[8]),{c(){$(e.$$.fragment)},m(i,o){h(e,i,o),t=!0},p(i,o){s=i;const a={};o&2&&(a.label=s[1](s[20].label)),o&2&&(a.placeholder=s[20].placeholder?s[1](s[20].placeholder):void 0),o&8&&(a.errors=s[3]),!n&&o&20&&(n=!0,a.value=s[2][s[20].name],Ie(()=>n=!1)),e.$set(a)},i(i){t||(m(e.$$.fragment,i),t=!0)},o(i){d(e.$$.fragment,i),t=!1},d(i){b(e,i)}}}function Vi(s){let e,n,t;function r(i){s[13](i,s[20])}let l={name:s[20].name,type:s[20].subType,label:s[1](s[20].label),placeholder:s[20].placeholder?s[1](s[20].placeholder):void 0,maxlength:s[20].maxLength??dt,errors:s[3]};return s[2][s[20].name]!==void 0&&(l.value=s[2][s[20].name]),e=new bi({props:l}),de.push(()=>ke(e,"value",r)),e.$on("input",s[8]),e.$on("blur",s[8]),{c(){$(e.$$.fragment)},m(i,o){h(e,i,o),t=!0},p(i,o){s=i;const a={};o&2&&(a.label=s[1](s[20].label)),o&2&&(a.placeholder=s[20].placeholder?s[1](s[20].placeholder):void 0),o&8&&(a.errors=s[3]),!n&&o&20&&(n=!0,a.value=s[2][s[20].name],Ie(()=>n=!1)),e.$set(a)},i(i){t||(m(e.$$.fragment,i),t=!0)},o(i){d(e.$$.fragment,i),t=!1},d(i){b(e,i)}}}function Hi(s){let e,n,t;function r(i){s[15](i,s[20])}let l={name:s[20].name,testId:K.authFormPrivacyNoticeSwitch};return s[2][s[20].name]!==void 0&&(l.value=s[2][s[20].name]),e=new Dr({props:l}),de.push(()=>ke(e,"value",r)),e.$on("change",s[10](s[20].name)),{c(){$(e.$$.fragment)},m(i,o){h(e,i,o),t=!0},p(i,o){s=i;const a={};!n&&o&20&&(n=!0,a.value=s[2][s[20].name],Ie(()=>n=!1)),e.$set(a)},i(i){t||(m(e.$$.fragment,i),t=!0)},o(i){d(e.$$.fragment,i),t=!1},d(i){b(e,i)}}}function ji(s){let e,n,t=!s[20].isHidden&&Hi(s);return{c(){t&&t.c(),e=R()},m(r,l){t&&t.m(r,l),w(r,e,l),n=!0},p(r,l){r[20].isHidden||t.p(r,l)},i(r){n||(m(t),n=!0)},o(r){d(t),n=!1},d(r){r&&v(e),t&&t.d(r)}}}function Wi(s){let e,n;return e=new yt({props:{slot:"feedback",name:s[20].name,errors:s[3]}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&8&&(l.errors=t[3]),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function on(s,e){let n,t,r,l,i;const o=[Vi,Pi,Oi],a=[];function f(u,c){return u[20].type===at.Text?0:u[20].type===at.Select?1:u[20].type===at.Checkbox?2:-1}return~(t=f(e))&&(r=a[t]=o[t](e)),{key:s,first:null,c(){n=X(),r&&r.c(),l=X(),this.first=n},m(u,c){w(u,n,c),~t&&a[t].m(u,c),w(u,l,c),i=!0},p(u,c){e=u,r&&r.p(e,c)},i(u){i||(m(r),i=!0)},o(u){d(r),i=!1},d(u){u&&(v(n),v(l)),~t&&a[t].d(u)}}}function zi(s){let e,n=[],t=new Map,r,l,i,o=te(s[4]);const a=f=>f[20].name;for(let f=0;f<o.length;f+=1){let u=ln(s,o,f),c=a(u);t.set(c,n[f]=on(c,u))}return{c(){e=y("form");for(let f=0;f<n.length;f+=1)n[f].c();p(e,"id",s[0]),p(e,"class","mb-0")},m(f,u){w(f,e,u);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(e,null);r=!0,l||(i=J(e,"submit",bt(s[9])),l=!0)},p(f,[u]){u&1310&&(o=te(f[4]),O(),n=he(n,u,a,1,f,o,t,e,Ce,on,null,ln),P()),(!r||u&1)&&p(e,"id",f[0])},i(f){if(!r){for(let u=0;u<o.length;u+=1)m(n[u]);r=!0}},o(f){for(let u=0;u<n.length;u+=1)d(n[u]);r=!1},d(f){f&&v(e);for(let u=0;u<n.length;u+=1)n[u].d();l=!1,i()}}}function Gi(s,e,n){let t,r,l,i,o,a;E(s,oe,L=>n(1,r=L)),E(s,mr,L=>n(16,l=L)),E(s,os,L=>n(17,i=L));let{id:f}=e,{isSubmitting:u=!1}=e;const c=as(i,l),{form:g,errors:_,isSubmitting:k,setFieldValue:I,setValues:T,handleChange:F,handleSubmit:U}=pl({initialValues:fs(c),validators:us(c),onChange:(L,Q)=>cs(L,Q),onSubmit:async L=>{try{await ms(L),ds(),gt(r("authForm.submit.success"))}catch(Q){gs(String(Q)),dr(r("authForm.submit.error"))}}});E(s,g,L=>n(2,o=L)),E(s,_,L=>n(3,a=L)),E(s,k,L=>n(12,t=L)),Se(()=>{const L=_s();L&&T(L,{shouldValidate:!0})});const Y=L=>Q=>{I(L,Q.detail)};function z(L,Q){s.$$.not_equal(o[Q.name],L)&&(o[Q.name]=L,g.set(o))}function N(L,Q){s.$$.not_equal(o[Q.name],L)&&(o[Q.name]=L,g.set(o))}function W(L,Q){s.$$.not_equal(o[Q.name],L)&&(o[Q.name]=L,g.set(o))}return s.$$set=L=>{"id"in L&&n(0,f=L.id),"isSubmitting"in L&&n(11,u=L.isSubmitting)},s.$$.update=()=>{s.$$.dirty&4096&&n(11,u=t)},[f,r,o,a,c,g,_,k,F,U,Y,u,t,z,N,W]}class Ui extends D{constructor(e){super(),B(this,e,Gi,zi,M,{id:0,isSubmitting:11})}}function Xi(s){let e=s[1]("authForm.description")+"",n;return{c(){n=j(e)},m(t,r){w(t,n,r)},p(t,r){r&2&&e!==(e=t[1]("authForm.description")+"")&&G(n,e)},d(t){t&&v(n)}}}function an(s){let e,n,t;function r(i){s[5](i)}let l={id:Fr};return s[0]!==void 0&&(l.isSubmitting=s[0]),e=new Ui({props:l}),de.push(()=>ke(e,"isSubmitting",r)),{c(){$(e.$$.fragment)},m(i,o){h(e,i,o),t=!0},p(i,o){const a={};!n&&o&1&&(n=!0,a.isSubmitting=i[0],Ie(()=>n=!1)),e.$set(a)},i(i){t||(m(e.$$.fragment,i),t=!0)},o(i){d(e.$$.fragment,i),t=!1},d(i){b(e,i)}}}function qi(s){let e,n,t=s[2],r,l;e=new Mr({props:{class:"mb-4",$$slots:{default:[Xi]},$$scope:{ctx:s}}});let i=an(s);return{c(){$(e.$$.fragment),n=R(),i.c(),r=X()},m(o,a){h(e,o,a),w(o,n,a),i.m(o,a),w(o,r,a),l=!0},p(o,a){const f={};a&66&&(f.$$scope={dirty:a,ctx:o}),e.$set(f),a&4&&M(t,t=o[2])?(O(),d(i,1,1,S),P(),i=an(o),i.c(),m(i,1),i.m(r.parentNode,r)):i.p(o,a)},i(o){l||(m(e.$$.fragment,o),m(i),l=!0)},o(o){d(e.$$.fragment,o),d(i),l=!1},d(o){o&&(v(n),v(r)),b(e,o),i.d(o)}}}function Yi(s){let e=s[1]("authForm.button.send")+"",n;return{c(){n=j(e)},m(t,r){w(t,n,r)},p(t,r){r&2&&e!==(e=t[1]("authForm.button.send")+"")&&G(n,e)},d(t){t&&v(n)}}}function Ji(s){let e,n;return e=new De({props:{type:"submit",form:Fr,isLoading:s[0],isBlock:!0,testId:s[4],$$slots:{default:[Yi]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&1&&(l.isLoading=t[0]),r&66&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Ki(s){let e,n,t,r,l,i;return e=new Ge({props:{title:s[1]("authForm.greeting")}}),t=new ze({props:{$$slots:{default:[qi]},$$scope:{ctx:s}}}),l=new yr({props:{$$slots:{default:[Ji]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment),n=R(),$(t.$$.fragment),r=R(),$(l.$$.fragment)},m(o,a){h(e,o,a),w(o,n,a),h(t,o,a),w(o,r,a),h(l,o,a),i=!0},p(o,a){const f={};a&2&&(f.title=o[1]("authForm.greeting")),e.$set(f);const u={};a&71&&(u.$$scope={dirty:a,ctx:o}),t.$set(u);const c={};a&67&&(c.$$scope={dirty:a,ctx:o}),l.$set(c)},i(o){i||(m(e.$$.fragment,o),m(t.$$.fragment,o),m(l.$$.fragment,o),i=!0)},o(o){d(e.$$.fragment,o),d(t.$$.fragment,o),d(l.$$.fragment,o),i=!1},d(o){o&&(v(n),v(r)),b(e,o),b(t,o),b(l,o)}}}function Qi(s){let e,n;return e=new We({props:{testId:s[3],$$slots:{default:[Ki]},$$scope:{ctx:s}}}),e.$on("close",Te),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,[r]){const l={};r&71&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}const Fr="auth-form";function Zi(s,e,n){let t,r;E(s,oe,f=>n(1,t=f)),E(s,mr,f=>n(2,r=f));let l=!1;const{authFormDrawer:i,authFormSubmitButton:o}=K;function a(f){l=f,n(0,l)}return[l,t,r,i,o,a]}class xi extends D{constructor(e){super(),B(this,e,Zi,Qi,M,{})}}function eo(s){let e,n,t,r,l=[{"aria-invalid":n=s[1]||void 0},{class:"block w-full px-3 py-2 text-base-input leading-5.5 border border-slate-200 text-slate-800 rounded-xl focus:border-blue-500 focus:ring-blue-500 placeholder:text-slate-300 transition-colors resize-none"},s[4],{"data-testid":s[2]}],i={};for(let o=0;o<l.length;o+=1)i=H(i,l[o]);return{c(){e=y("textarea"),ve(e,i),A(e,"text-sm",s[3]),A(e,"invalid",s[1]),A(e,"svelte-1ciict0",!0)},m(o,a){w(o,e,a),e.autofocus&&e.focus(),$e(e,s[0]),t||(r=[J(e,"input",s[8]),J(e,"change",s[5]),J(e,"blur",s[6]),J(e,"input",s[7])],t=!0)},p(o,[a]){ve(e,i=ue(l,[a&2&&n!==(n=o[1]||void 0)&&{"aria-invalid":n},{class:"block w-full px-3 py-2 text-base-input leading-5.5 border border-slate-200 text-slate-800 rounded-xl focus:border-blue-500 focus:ring-blue-500 placeholder:text-slate-300 transition-colors resize-none"},a&16&&o[4],a&4&&{"data-testid":o[2]}])),a&1&&$e(e,o[0]),A(e,"text-sm",o[3]),A(e,"invalid",o[1]),A(e,"svelte-1ciict0",!0)},i:S,o:S,d(o){o&&v(e),t=!1,Be(r)}}}function to(s,e,n){const t=["value","isInvalid","testId"];let r=ee(e,t),l;E(s,vt,_=>n(3,l=_));let{value:i=""}=e,{isInvalid:o=!1}=e,{testId:a=void 0}=e;function f(_){x.call(this,s,_)}function u(_){x.call(this,s,_)}function c(_){x.call(this,s,_)}function g(){i=this.value,n(0,i)}return s.$$set=_=>{e=H(H({},e),ne(_)),n(4,r=ee(e,t)),"value"in _&&n(0,i=_.value),"isInvalid"in _&&n(1,o=_.isInvalid),"testId"in _&&n(2,a=_.testId)},[i,o,a,l,r,f,u,c,g]}class no extends D{constructor(e){super(),B(this,e,to,eo,M,{value:0,isInvalid:1,testId:2})}}function ro(s){let e,n,t,r;const l=s[3].default,i=re(l,s,s[2],null);return{c(){e=y("div"),i&&i.c(),p(e,"role","button"),p(e,"tabindex",0),p(e,"class","flex-center h-60px w-60px leading-normal mx-4 rounded-full cursor-pointer hover:scale-120 overflow-hidden transition-transform shadow-lg"),p(e,"data-testid",K.chatRatingEmojiButton),A(e,"pointer-events-none",s[0]),A(e,"opacity-10",s[1])},m(o,a){w(o,e,a),i&&i.m(e,null),n=!0,t||(r=J(e,"click",s[4]),t=!0)},p(o,[a]){i&&i.p&&(!n||a&4)&&se(i,l,o,o[2],n?ie(l,o[2],a,null):le(o[2]),null),(!n||a&1)&&A(e,"pointer-events-none",o[0]),(!n||a&2)&&A(e,"opacity-10",o[1])},i(o){n||(m(i,o),n=!0)},o(o){d(i,o),n=!1},d(o){o&&v(e),i&&i.d(o),t=!1,r()}}}function so(s,e,n){let{$$slots:t={},$$scope:r}=e,{isDisabled:l=!1}=e,{isFaded:i=!1}=e;function o(a){x.call(this,s,a)}return s.$$set=a=>{"isDisabled"in a&&n(0,l=a.isDisabled),"isFaded"in a&&n(1,i=a.isFaded),"$$scope"in a&&n(2,r=a.$$scope)},[l,i,r,t,o]}class lo extends D{constructor(e){super(),B(this,e,so,ro,M,{isDisabled:0,isFaded:1})}}function fn(s,e,n){const t=s.slice();return t[14]=e[n],t}function io(s){let e;return{c(){e=y("div"),e.textContent="Chat rating not found",p(e,"class","text-sm text-red-500")},m(n,t){w(n,e,t)},p:S,i:S,o:S,d(n){n&&v(e)}}}function oo(s){let e,n=[],t=new Map,r,l,i,o=te(xe);const a=u=>u[14].value;for(let u=0;u<o.length;u+=1){let c=fn(s,o,u),g=a(c);t.set(g,n[u]=un(g,c))}let f=s[5]&&cn(s);return{c(){e=y("div");for(let u=0;u<n.length;u+=1)n[u].c();r=R(),f&&f.c(),l=X(),p(e,"class","flex-center mt-2 mb-4")},m(u,c){w(u,e,c);for(let g=0;g<n.length;g+=1)n[g]&&n[g].m(e,null);w(u,r,c),f&&f.m(u,c),w(u,l,c),i=!0},p(u,c){c&162&&(o=te(xe),O(),n=he(n,c,a,1,u,o,t,e,Ce,un,null,fn),P()),u[5]?f?(f.p(u,c),c&32&&m(f,1)):(f=cn(u),f.c(),m(f,1),f.m(l.parentNode,l)):f&&(O(),d(f,1,1,()=>{f=null}),P())},i(u){if(!i){for(let c=0;c<o.length;c+=1)m(n[c]);m(f),i=!0}},o(u){for(let c=0;c<n.length;c+=1)d(n[c]);d(f),i=!1},d(u){u&&(v(e),v(r),v(l));for(let c=0;c<n.length;c+=1)n[c].d();f&&f.d(u)}}}function ao(s){let e,n,t;return{c(){e=y("img"),t=R(),or(e.src,n=_r(s[14].name))||p(e,"src",n),p(e,"alt",s[14].name)},m(r,l){w(r,e,l),w(r,t,l)},p:S,d(r){r&&(v(e),v(t))}}}function un(s,e){let n,t,r;return t=new lo({props:{isDisabled:e[5],isFaded:e[5]&&e[1]!==e[14].value,$$slots:{default:[ao]},$$scope:{ctx:e}}}),t.$on("click",e[7](e[14].value)),{key:s,first:null,c(){n=X(),$(t.$$.fragment),this.first=n},m(l,i){w(l,n,i),h(t,l,i),r=!0},p(l,i){e=l;const o={};i&32&&(o.isDisabled=e[5]),i&34&&(o.isFaded=e[5]&&e[1]!==e[14].value),i&131072&&(o.$$scope={dirty:i,ctx:e}),t.$set(o)},i(l){r||(m(t.$$.fragment,l),r=!0)},o(l){d(t.$$.fragment,l),r=!1},d(l){l&&v(n),b(t,l)}}}function cn(s){let e,n,t,r,l,i,o,a,f,u=s[3]&&mn(s);const c=[{rows:3},{placeholder:s[6]("agentRating.all.placeholder")},{maxlength:ws},{testId:s[11]},!st()&&{autofocus:!0}];function g(k){s[13](k)}let _={};for(let k=0;k<c.length;k+=1)_=H(_,c[k]);return s[0]!==void 0&&(_.value=s[0]),r=new no({props:_}),de.push(()=>ke(r,"value",g)),r.$on("input",s[9]),o=new De({props:{disabled:s[4],isBlock:!0,testId:s[12],$$slots:{default:[fo]},$$scope:{ctx:s}}}),o.$on("click",s[8]),{c(){u&&u.c(),e=R(),n=y("div"),t=y("div"),$(r.$$.fragment),i=R(),$(o.$$.fragment),p(t,"class","mb-6"),p(n,"class","mb-4")},m(k,I){u&&u.m(k,I),w(k,e,I),w(k,n,I),C(n,t),h(r,t,null),C(n,i),h(o,n,null),f=!0},p(k,I){k[3]?u?(u.p(k,I),I&8&&m(u,1)):(u=mn(k),u.c(),m(u,1),u.m(e.parentNode,e)):u&&(O(),d(u,1,1,()=>{u=null}),P());const T=I&2112?ue(c,[c[0],I&64&&{placeholder:k[6]("agentRating.all.placeholder")},c[2],I&2048&&{testId:k[11]},c[4]]):{};!l&&I&1&&(l=!0,T.value=k[0],Ie(()=>l=!1)),r.$set(T);const F={};I&16&&(F.disabled=k[4]),I&131136&&(F.$$scope={dirty:I,ctx:k}),o.$set(F)},i(k){f||(m(u),m(r.$$.fragment,k),m(o.$$.fragment,k),k&&me(()=>{f&&(a||(a=Ne(n,Ze,{delay:1e3},!0)),a.run(1))}),f=!0)},o(k){d(u),d(r.$$.fragment,k),d(o.$$.fragment,k),k&&(a||(a=Ne(n,Ze,{delay:1e3},!1)),a.run(0)),f=!1},d(k){k&&(v(e),v(n)),u&&u.d(k),b(r),b(o),k&&a&&a.end()}}}function mn(s){let e,n=s[6](s[3].text)+"",t,r,l;return{c(){e=y("div"),t=j(n),p(e,"class","flex-center mb-4 text-sm")},m(i,o){w(i,e,o),C(e,t),l=!0},p(i,o){(!l||o&72)&&n!==(n=i[6](i[3].text)+"")&&G(t,n)},i(i){l||(i&&me(()=>{l&&(r||(r=Ne(e,Ze,{},!0)),r.run(1))}),l=!0)},o(i){i&&(r||(r=Ne(e,Ze,{},!1)),r.run(0)),l=!1},d(i){i&&v(e),i&&r&&r.end()}}}function fo(s){let e=s[6]("general.send")+"",n;return{c(){n=j(e)},m(t,r){w(t,n,r)},p(t,r){r&64&&e!==(e=t[6]("general.send")+"")&&G(n,e)},d(t){t&&v(n)}}}function uo(s){let e,n,t,r;const l=[oo,io],i=[];function o(a,f){return a[2]?0:1}return e=o(s),n=i[e]=l[e](s),{c(){n.c(),t=X()},m(a,f){i[e].m(a,f),w(a,t,f),r=!0},p(a,f){let u=e;e=o(a),e===u?i[e].p(a,f):(O(),d(i[u],1,1,()=>{i[u]=null}),P(),n=i[e],n?n.p(a,f):(n=i[e]=l[e](a),n.c()),m(n,1),n.m(t.parentNode,t))},i(a){r||(m(n),r=!0)},o(a){d(n),r=!1},d(a){a&&v(t),i[e].d(a)}}}function co(s){let e,n,t,r;return e=new Ge({props:{title:s[6]("rating.wasItHelpful")}}),t=new ze({props:{$$slots:{default:[uo]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment),n=R(),$(t.$$.fragment)},m(l,i){h(e,l,i),w(l,n,i),h(t,l,i),r=!0},p(l,i){const o={};i&64&&(o.title=l[6]("rating.wasItHelpful")),e.$set(o);const a={};i&131199&&(a.$$scope={dirty:i,ctx:l}),t.$set(a)},i(l){r||(m(e.$$.fragment,l),m(t.$$.fragment,l),r=!0)},o(l){d(e.$$.fragment,l),d(t.$$.fragment,l),r=!1},d(l){l&&v(n),b(e,l),b(t,l)}}}function mo(s){let e,n;return e=new We({props:{testId:s[10],$$slots:{default:[co]},$$scope:{ctx:s}}}),e.$on("close",Te),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,[r]){const l={};r&131199&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function go(s,e,n){let t,r,l,i,o;E(s,ps,F=>n(2,i=F)),E(s,oe,F=>n(6,o=F));let a="";Se(()=>{const F=$s(ft.RatingText);F&&n(0,a=F)});const f=F=>async()=>{i!=null&&i.messageId&&await Pt({messageId:i.messageId,rating:{value:F,text:a},onSuccess:()=>{Vt(),gt(o("rating.submit.success"))}})},u=async()=>{!(i!=null&&i.messageId)||!i.value||a.length===0||await Pt({messageId:i.messageId,rating:{value:i.value,text:a},onSuccess:()=>{hs(ft.RatingText),Vt(),gt(o("rating.submitFeedback.success")),Te()}})},c=F=>{const U=F.target;bs({name:ft.RatingText,value:U.value})};let g;const{chatRatingDrawer:_,chatRatingTextarea:k,chatRatingSendButton:I}=K;function T(F){a=F,n(0,a)}return s.$$.update=()=>{s.$$.dirty&4&&n(1,t=i==null?void 0:i.value),s.$$.dirty&2&&n(5,r=!!t),s.$$.dirty&4&&n(3,g=gr[(i==null?void 0:i.value)??0]),s.$$.dirty&1&&n(4,l=a.length===0)},[a,t,i,g,l,r,o,f,u,c,_,k,I,T]}class _o extends D{constructor(e){super(),B(this,e,go,mo,M,{})}}function po(s){let e=s[0]("closeConversationModal.text")+"",n;return{c(){n=j(e)},m(t,r){w(t,n,r)},p(t,r){r&1&&e!==(e=t[0]("closeConversationModal.text")+"")&&G(n,e)},d(t){t&&v(n)}}}function $o(s){let e,n;return e=new Mr({props:{$$slots:{default:[po]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&17&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function ho(s){let e=s[0]("closeConversationModal.button")+"",n;return{c(){n=j(e)},m(t,r){w(t,n,r)},p(t,r){r&1&&e!==(e=t[0]("closeConversationModal.button")+"")&&G(n,e)},d(t){t&&v(n)}}}function bo(s){let e=s[0]("general.back")+"",n;return{c(){n=j(e)},m(t,r){w(t,n,r)},p(t,r){r&1&&e!==(e=t[0]("general.back")+"")&&G(n,e)},d(t){t&&v(n)}}}function wo(s){let e,n,t,r,l;return n=new De({props:{isBlock:!0,testId:s[2],$$slots:{default:[ho]},$$scope:{ctx:s}}}),n.$on("click",vs),r=new De({props:{variant:"outline",isBlock:!0,testId:s[3],$$slots:{default:[bo]},$$scope:{ctx:s}}}),r.$on("click",Te),{c(){e=y("div"),$(n.$$.fragment),t=R(),$(r.$$.fragment),p(e,"class","mb-3")},m(i,o){w(i,e,o),h(n,e,null),w(i,t,o),h(r,i,o),l=!0},p(i,o){const a={};o&17&&(a.$$scope={dirty:o,ctx:i}),n.$set(a);const f={};o&17&&(f.$$scope={dirty:o,ctx:i}),r.$set(f)},i(i){l||(m(n.$$.fragment,i),m(r.$$.fragment,i),l=!0)},o(i){d(n.$$.fragment,i),d(r.$$.fragment,i),l=!1},d(i){i&&(v(e),v(t)),b(n),b(r,i)}}}function vo(s){let e,n,t,r,l,i;return e=new Ge({props:{title:s[0]("closeConversationModal.title")}}),t=new ze({props:{$$slots:{default:[$o]},$$scope:{ctx:s}}}),l=new yr({props:{$$slots:{default:[wo]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment),n=R(),$(t.$$.fragment),r=R(),$(l.$$.fragment)},m(o,a){h(e,o,a),w(o,n,a),h(t,o,a),w(o,r,a),h(l,o,a),i=!0},p(o,a){const f={};a&1&&(f.title=o[0]("closeConversationModal.title")),e.$set(f);const u={};a&17&&(u.$$scope={dirty:a,ctx:o}),t.$set(u);const c={};a&17&&(c.$$scope={dirty:a,ctx:o}),l.$set(c)},i(o){i||(m(e.$$.fragment,o),m(t.$$.fragment,o),m(l.$$.fragment,o),i=!0)},o(o){d(e.$$.fragment,o),d(t.$$.fragment,o),d(l.$$.fragment,o),i=!1},d(o){o&&(v(n),v(r)),b(e,o),b(t,o),b(l,o)}}}function ko(s){let e,n;return e=new We({props:{testId:s[1],$$slots:{default:[vo]},$$scope:{ctx:s}}}),e.$on("close",Te),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,[r]){const l={};r&17&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Io(s,e,n){let t;E(s,oe,o=>n(0,t=o));const{closeChatDrawer:r,closeChatConfirmButton:l,closeChatDeclineButton:i}=K;return[t,r,l,i]}class Co extends D{constructor(e){super(),B(this,e,Io,ko,M,{})}}function To(s){let e,n=s[1]()+"";return{c(){e=y("div"),p(e,"class","text-sm")},m(t,r){w(t,e,r),e.innerHTML=n},p:S,d(t){t&&v(e)}}}function Ao(s){let e,n,t,r;return e=new Ge({props:{title:s[0]("options.gdpr")}}),t=new ze({props:{$$slots:{default:[To]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment),n=R(),$(t.$$.fragment)},m(l,i){h(e,l,i),w(l,n,i),h(t,l,i),r=!0},p(l,i){const o={};i&1&&(o.title=l[0]("options.gdpr")),e.$set(o);const a={};i&4&&(a.$$scope={dirty:i,ctx:l}),t.$set(a)},i(l){r||(m(e.$$.fragment,l),m(t.$$.fragment,l),r=!0)},o(l){d(e.$$.fragment,l),d(t.$$.fragment,l),r=!1},d(l){l&&v(n),b(e,l),b(t,l)}}}function yo(s){let e,n;return e=new We({props:{testId:K.gdprDrawer,$$slots:{default:[Ao]},$$scope:{ctx:s}}}),e.$on("close",Te),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,[r]){const l={};r&5&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Mo(s,e,n){let t;return E(s,oe,l=>n(0,t=l)),[t,()=>t("gdpr.dataPrivacyText").replace(ks,'<a href="//$1" target="_blank" class="color-slate-500 hover:color-slate-700 transition-colors underline">$1</a>').replaceAll(`
`,"<br/>")]}class Do extends D{constructor(e){super(),B(this,e,Mo,yo,M,{})}}function Bo(s){let e,n='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9m4.3 13a1.94 1.94 0 0 0 3.4 0M4 2C2.8 3.7 2 5.7 2 8m20 0c0-2.3-.8-4.3-2-6"/>',t=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},s[0]],r={};for(let l=0;l<t.length;l+=1)r=H(r,t[l]);return{c(){e=q("svg"),ae(e,r)},m(l,i){w(l,e,i),e.innerHTML=n},p(l,[i]){ae(e,r=ue(t,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i&1&&l[0]]))},i:S,o:S,d(l){l&&v(e)}}}function So(s,e,n){return s.$$set=t=>{n(0,e=H(H({},e),ne(t)))},e=ne(e),[e]}class Fo extends D{constructor(e){super(),B(this,e,So,Bo,M,{})}}function Lo(s){let e,n='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4m4-5l5 5l5-5m-5 5V3"/>',t=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},s[0]],r={};for(let l=0;l<t.length;l+=1)r=H(r,t[l]);return{c(){e=q("svg"),ae(e,r)},m(l,i){w(l,e,i),e.innerHTML=n},p(l,[i]){ae(e,r=ue(t,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i&1&&l[0]]))},i:S,o:S,d(l){l&&v(e)}}}function Ro(s,e,n){return s.$$set=t=>{n(0,e=H(H({},e),ne(t)))},e=ne(e),[e]}class Lr extends D{constructor(e){super(),B(this,e,Ro,Lo,M,{})}}function Eo(s){let e,n='<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3l-8 3v7c0 6 8 10 8 10z"/><path d="m9 12l2 2l4-4"/></g>',t=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},s[0]],r={};for(let l=0;l<t.length;l+=1)r=H(r,t[l]);return{c(){e=q("svg"),ae(e,r)},m(l,i){w(l,e,i),e.innerHTML=n},p(l,[i]){ae(e,r=ue(t,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i&1&&l[0]]))},i:S,o:S,d(l){l&&v(e)}}}function No(s,e,n){return s.$$set=t=>{n(0,e=H(H({},e),ne(t)))},e=ne(e),[e]}class Oo extends D{constructor(e){super(),B(this,e,No,Eo,M,{})}}function Po(s){let e,n,t;var r=s[0];function l(i,o){return{props:{width:"1em",height:"1em"}}}return r&&(n=Oe(r,l())),{c(){e=y("span"),n&&$(n.$$.fragment),p(e,"class","icon svelte-kyzitp")},m(i,o){w(i,e,o),n&&h(n,e,null),t=!0},p(i,[o]){if(o&1&&r!==(r=i[0])){if(n){O();const a=n;d(a.$$.fragment,1,0,()=>{b(a,1)}),P()}r?(n=Oe(r,l()),$(n.$$.fragment),m(n.$$.fragment,1),h(n,e,null)):n=null}},i(i){t||(n&&m(n.$$.fragment,i),t=!0)},o(i){n&&d(n.$$.fragment,i),t=!1},d(i){i&&v(e),n&&b(n)}}}function Vo(s,e,n){let{icon:t}=e;return s.$$set=r=>{"icon"in r&&n(0,t=r.icon)},[t]}class Rr extends D{constructor(e){super(),B(this,e,Vo,Po,M,{icon:0})}}function dn(s){let e,n;return e=new ol({}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Ho(s){let e,n,t,r,l,i,o,a,f,u;n=new Rr({props:{icon:s[0]}});let c=s[3]&&dn();return{c(){e=y("button"),$(n.$$.fragment),t=R(),r=y("span"),l=j(s[1]),i=R(),c&&c.c(),p(r,"class","text-sm ml-2 flex-grow"),p(e,"class",o=Rt(`drawer-button${s[4]?"-disabled":""}`)+" svelte-wmh8gi"),e.disabled=s[4],p(e,"data-testid",s[2])},m(g,_){w(g,e,_),h(n,e,null),C(e,t),C(e,r),C(r,l),C(e,i),c&&c.m(e,null),a=!0,f||(u=J(e,"click",s[5]),f=!0)},p(g,[_]){const k={};_&1&&(k.icon=g[0]),n.$set(k),(!a||_&2)&&G(l,g[1]),g[3]?c?_&8&&m(c,1):(c=dn(),c.c(),m(c,1),c.m(e,null)):c&&(O(),d(c,1,1,()=>{c=null}),P()),(!a||_&16&&o!==(o=Rt(`drawer-button${g[4]?"-disabled":""}`)+" svelte-wmh8gi"))&&p(e,"class",o),(!a||_&16)&&(e.disabled=g[4]),(!a||_&4)&&p(e,"data-testid",g[2])},i(g){a||(m(n.$$.fragment,g),m(c),a=!0)},o(g){d(n.$$.fragment,g),d(c),a=!1},d(g){g&&v(e),b(n),c&&c.d(),f=!1,u()}}}function jo(s,e,n){let{icon:t}=e,{text:r}=e,{testId:l}=e,{processing:i=void 0}=e,{buttonDisabled:o=!1}=e;function a(f){x.call(this,s,f)}return s.$$set=f=>{"icon"in f&&n(0,t=f.icon),"text"in f&&n(1,r=f.text),"testId"in f&&n(2,l=f.testId),"processing"in f&&n(3,i=f.processing),"buttonDisabled"in f&&n(4,o=f.buttonDisabled)},[t,r,l,i,o,a]}class $t extends D{constructor(e){super(),B(this,e,jo,Ho,M,{icon:0,text:1,testId:2,processing:3,buttonDisabled:4})}}function Wo(s){let e,n,t,r,l,i,o,a,f,u;return n=new Rr({props:{icon:s[0]}}),o=new Dr({props:{name:s[2],value:s[3],testId:s[4]}}),{c(){e=y("button"),$(n.$$.fragment),t=R(),r=y("span"),l=j(s[1]),i=R(),$(o.$$.fragment),p(r,"class","text-sm ml-2 flex-grow"),p(e,"class","drawer-switch svelte-6hfctc"),p(e,"data-testid",s[4])},m(c,g){w(c,e,g),h(n,e,null),C(e,t),C(e,r),C(r,l),C(e,i),h(o,e,null),a=!0,f||(u=J(e,"click",bt(s[5])),f=!0)},p(c,[g]){const _={};g&1&&(_.icon=c[0]),n.$set(_),(!a||g&2)&&G(l,c[1]);const k={};g&4&&(k.name=c[2]),g&8&&(k.value=c[3]),g&16&&(k.testId=c[4]),o.$set(k),(!a||g&16)&&p(e,"data-testid",c[4])},i(c){a||(m(n.$$.fragment,c),m(o.$$.fragment,c),a=!0)},o(c){d(n.$$.fragment,c),d(o.$$.fragment,c),a=!1},d(c){c&&v(e),b(n),b(o),f=!1,u()}}}function zo(s,e,n){let{icon:t}=e,{text:r}=e,{name:l}=e,{value:i}=e,{testId:o}=e;function a(f){x.call(this,s,f)}return s.$$set=f=>{"icon"in f&&n(0,t=f.icon),"text"in f&&n(1,r=f.text),"name"in f&&n(2,l=f.name),"value"in f&&n(3,i=f.value),"testId"in f&&n(4,o=f.testId)},[t,r,l,i,o,a]}class Go extends D{constructor(e){super(),B(this,e,zo,Wo,M,{icon:0,text:1,name:2,value:3,testId:4})}}const Uo=5e3;let ht;const tt=ye(!1),Xo=async()=>{Le(tt)||(pr.on("transcriptPdf",Or),tt.set(!0),ht=setTimeout(()=>{Er(),Nr("timeouted")},Uo),await As.getClient().chatTranscriptPdf())},qo=nr([Is,Cs,Ts],([s,e,n])=>s||e||n),Er=()=>{tt.set(!1),pr.off("transcriptPdf",Or)},Nr=s=>{dr(Le(oe)("form.submit.error")),ys(`widget PDF transcript ${s}`)},Or=({ok:s,url:e})=>{ht&&clearTimeout(ht),s&&e?(Te(),window.open(e,"_blank")):Nr("failed"),Er()};function Yo(s){let e,n;return e=new $t({props:{icon:Lr,text:s[1]("options.pdfTranscript"),testId:s[10],processing:s[2],buttonDisabled:!s[3]}}),e.$on("click",Xo),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&2&&(l.text=t[1]("options.pdfTranscript")),r&4&&(l.processing=t[2]),r&8&&(l.buttonDisabled=!t[3]),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Jo(s){let e,n,t,r,l,i,o;e=new Go({props:{icon:Fo,text:s[1]("options.playSounds"),name:"sounds",value:s[0],testId:s[9]}}),e.$on("click",s[4]);let a=s[7]!==!1&&Yo(s);return r=new $t({props:{icon:Oo,text:s[1]("options.gdpr"),testId:s[8]}}),r.$on("click",s[6]),i=new $t({props:{icon:al,text:s[1]("options.feedback"),testId:s[12]}}),i.$on("click",s[5]),{c(){$(e.$$.fragment),n=R(),a&&a.c(),t=R(),$(r.$$.fragment),l=R(),$(i.$$.fragment)},m(f,u){h(e,f,u),w(f,n,u),a&&a.m(f,u),w(f,t,u),h(r,f,u),w(f,l,u),h(i,f,u),o=!0},p(f,u){const c={};u&2&&(c.text=f[1]("options.playSounds")),u&1&&(c.value=f[0]),e.$set(c),f[7]!==!1&&a.p(f,u);const g={};u&2&&(g.text=f[1]("options.gdpr")),r.$set(g);const _={};u&2&&(_.text=f[1]("options.feedback")),i.$set(_)},i(f){o||(m(e.$$.fragment,f),m(a),m(r.$$.fragment,f),m(i.$$.fragment,f),o=!0)},o(f){d(e.$$.fragment,f),d(a),d(r.$$.fragment,f),d(i.$$.fragment,f),o=!1},d(f){f&&(v(n),v(t),v(l)),b(e,f),a&&a.d(f),b(r,f),b(i,f)}}}function Ko(s){let e,n,t,r;return e=new Ge({props:{title:s[1]("options.title")}}),t=new ze({props:{$$slots:{default:[Jo]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment),n=R(),$(t.$$.fragment)},m(l,i){h(e,l,i),w(l,n,i),h(t,l,i),r=!0},p(l,i){const o={};i&2&&(o.title=l[1]("options.title")),e.$set(o);const a={};i&8207&&(a.$$scope={dirty:i,ctx:l}),t.$set(a)},i(l){r||(m(e.$$.fragment,l),m(t.$$.fragment,l),r=!0)},o(l){d(e.$$.fragment,l),d(t.$$.fragment,l),r=!1},d(l){l&&v(n),b(e,l),b(t,l)}}}function Qo(s){let e,n;return e=new We({props:{testId:s[11],$$slots:{default:[Ko]},$$scope:{ctx:s}}}),e.$on("close",Te),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,[r]){const l={};r&8207&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Zo(s,e,n){let t,r,l,i;E(s,Ms,T=>n(0,t=T)),E(s,oe,T=>n(1,r=T)),E(s,tt,T=>n(2,l=T)),E(s,qo,T=>n(3,i=T));const o=()=>Bs(!t),a=()=>Me().open("https://forms.gle/7Qxv72AQoyhFCPJP6","_blank"),f=()=>_t(we.GdprAndPrivacy);Se(()=>{Ds()});const{transcriptEnabled:u}=Fe.getOptions(),{optionsPrivacyNotice:c,optionsSounds:g,optionsTranscript:_,optionsDrawer:k,optionsFeedback:I}=K;return[t,r,l,i,o,a,f,u,c,g,_,k,I]}class xo extends D{constructor(e){super(),B(this,e,Zo,Qo,M,{})}}function gn(s){let e,n,t;var r=s[0];function l(i,o){return{}}return r&&(e=Oe(r,l())),{c(){e&&$(e.$$.fragment),n=X()},m(i,o){e&&h(e,i,o),w(i,n,o),t=!0},p(i,o){if(o&1&&r!==(r=i[0])){if(e){O();const a=e;d(a.$$.fragment,1,0,()=>{b(a,1)}),P()}r?(e=Oe(r,l()),$(e.$$.fragment),m(e.$$.fragment,1),h(e,n.parentNode,n)):e=null}},i(i){t||(e&&m(e.$$.fragment,i),t=!0)},o(i){e&&d(e.$$.fragment,i),t=!1},d(i){i&&v(n),e&&b(e,i)}}}function ea(s){let e,n,t=s[0]&&gn(s);return{c(){t&&t.c(),e=X()},m(r,l){t&&t.m(r,l),w(r,e,l),n=!0},p(r,[l]){r[0]?t?(t.p(r,l),l&1&&m(t,1)):(t=gn(r),t.c(),m(t,1),t.m(e.parentNode,e)):t&&(O(),d(t,1,1,()=>{t=null}),P())},i(r){n||(m(t),n=!0)},o(r){d(t),n=!1},d(r){r&&v(e),t&&t.d(r)}}}function ta(s,e,n){let t;E(s,Ss,i=>n(1,t=i));const r={[we.Options]:xo,[we.GdprAndPrivacy]:Do,[we.AuthForm]:xi,[we.CloseChat]:Co,[we.ChatRating]:_o};let l;return s.$$.update=()=>{s.$$.dirty&2&&n(0,l=typeof t=="number"&&r[t]||null)},[l,t]}class na extends D{constructor(e){super(),B(this,e,ta,ea,M,{})}}const Pr=s=>s===void 0||s==="auto"||s==="instant"||s==="smooth";function ra(s,e){this.scrollLeft=s,this.scrollTop=e}const Vr=(s,e,n="cannot convert to dictionary.")=>`Failed to execute '${s}' on '${e}': ${n}`,Hr=(s,e,n)=>Vr(s,e,`The provided value '${n}' is not a valid enum value of type ScrollBehavior.`),_n=(s,e,n)=>{var t;const r=`__SEAMLESS.BACKUP$${e}`;return!s[r]&&s[e]&&!(!((t=s[e])===null||t===void 0)&&t.__isPolyfill)&&(s[r]=s[e]),s[r]||n},sa=s=>{const e=typeof s;return s!==null&&(e==="object"||e==="function")},Mt=s=>s.ownerDocument.scrollingElement||s.ownerDocument.documentElement;function la(s){if(typeof Event=="function")return new Event("scrollend",{bubbles:s,cancelable:!1});const e=document.createEvent("Event");return e.initEvent("scrollend",s,!1),e}const ia=s=>.5*(1-Math.cos(Math.PI*s));function Dt(){var s;let e;return!((s=window.performance)===null||s===void 0)&&s.now?e=()=>window.performance.now():e=()=>window.Date.now(),Dt=e,e()}const oa=500,jr=s=>{const n=(Dt()-s.timeStamp)/(s.duration||oa);if(n>1){s.method(s.targetX,s.targetY),s.callback();return}const t=(s.timingFunc||ia)(n),r=s.startX+(s.targetX-s.startX)*t,l=s.startY+(s.targetY-s.startY)*t;s.method(r,l),s.rafId=window.requestAnimationFrame(()=>{jr(s)})},nt=s=>isFinite(s)?Number(s):0,aa=s=>{var e;return(e=s.isConnected)!==null&&e!==void 0?e:!s.ownerDocument||!(s.ownerDocument.compareDocumentPosition(s)&1)},fa=(s,e,n)=>{var t,r;if(!aa(s))return;const l=s.scrollLeft,i=s.scrollTop,o=nt((t=e.left)!==null&&t!==void 0?t:l),a=nt((r=e.top)!==null&&r!==void 0?r:i);if(o===l&&a===i)return;const f=_n(HTMLElement.prototype,"scroll",ra),u=_n(Object.getPrototypeOf(s),"scroll",f).bind(s);if(e.behavior!=="smooth"){u(o,a);return}const c=()=>{window.removeEventListener("wheel",k),window.removeEventListener("touchmove",k)},g=()=>{c();const I=s.nodeType===9;s.dispatchEvent(la(I))},_=Object.assign(Object.assign({},n),{timeStamp:Dt(),startX:l,startY:i,targetX:o,targetY:a,rafId:0,method:u,callback:g}),k=()=>{window.cancelAnimationFrame(_.rafId),c()};window.addEventListener("wheel",k,{passive:!0,once:!0}),window.addEventListener("touchmove",k,{passive:!0,once:!0}),jr(_)},ua=s=>s.window===s,ca=s=>(e,n,t)=>{const[r,l]=ua(e)?[Mt(e.document.documentElement),"Window"]:[e,"Element"],i=n??{};if(!sa(i))throw new TypeError(Vr(s,l));if(!Pr(i.behavior))throw new TypeError(Hr(s,l,i.behavior));s==="scrollBy"&&(i.left=nt(i.left)+r.scrollLeft,i.top=nt(i.top)+r.scrollTop),fa(r,i,t)},ma=ca("scroll"),da=ma,Wr=s=>{switch(s){case"horizontal-tb":case"lr":case"lr-tb":case"rl":case"rl-tb":return 0;case"vertical-rl":case"tb":case"tb-rl":return 1;case"vertical-lr":case"tb-lr":return 2;case"sideways-rl":return 3;case"sideways-lr":return 4}return 0},zr=(s,e,n,t)=>{let r=0;switch(e||(r^=2),s){case 0:r=r>>1|(r&1)<<1,[n,t]=[t,n];break;case 1:case 3:r^=1;break;case 4:r^=2;break}return[r,n,t]},ga=s=>(zr(Wr(s.writingMode),s.direction!=="rtl",void 0,void 0)[0]&1)===1,_a=(s,e,n)=>{const[t,r,l]=zr(e,n,s.block||"start",s.inline||"nearest");return[r,l].map((i,o)=>{switch(i){case"center":return 1;case"nearest":return 0;default:{const a=t>>o&1;return i==="start"==!a?2:3}}})},pn=(s,e,n,t,r,l,i)=>s!==0?s:r<e&&l>n||r>e&&l<n?null:r<=e&&i<=t||l>=n&&i>=t?2:l>n&&i<t||r<e&&i>t?3:null,$n=s=>s!=="visible"&&s!=="clip",pa=s=>{var e;try{return((e=s.ownerDocument.defaultView)===null||e===void 0?void 0:e.frameElement)||null}catch{return null}},$a=(s,e)=>s.clientHeight<s.scrollHeight||s.clientWidth<s.scrollWidth?$n(e.overflowY)||$n(e.overflowX)||s===Mt(s):!1,hn=s=>{const e=s.parentNode,n=s.parentElement;if(n===null&&e!==null){if(e.nodeType===11)return e.host;if(e.nodeType===9)return pa(s)}return n},ct=(s,e,n)=>s<e?e:s>n?n:s,ha=s=>["scroll-margin","scroll-snap-margin"].filter(e=>e in s.documentElement.style)[0],ba=(s,e,n)=>{const{top:t,right:r,bottom:l,left:i}=e,o=ha(s.ownerDocument);if(!o)return[t,r,l,i];const a=f=>{const u=n.getPropertyValue(`${o}-${f}`);return parseInt(u,10)||0};return[t-a("top"),r+a("right"),l+a("bottom"),i-a("left")]},Qe=(s,e,n)=>{switch(s){case 1:return(e+n)/2;case 3:return n;case 2:case 0:return e}},wa=(s,e)=>{var n,t,r;const l=(n=s.ownerDocument.defaultView)===null||n===void 0?void 0:n.visualViewport,[i,o,a,f]=s===Mt(s)?[0,0,(t=l==null?void 0:l.width)!==null&&t!==void 0?t:s.clientWidth,(r=l==null?void 0:l.height)!==null&&r!==void 0?r:s.clientHeight]:[e.left,e.top,s.clientWidth,s.clientHeight],u=i+s.clientLeft,c=o+s.clientTop,g=u+a,_=c+f;return[c,g,_,u]},va=(s,e)=>{const n=[];let t=s.ownerDocument,r=t.defaultView;if(!r)return n;const l=window.getComputedStyle(s),i=l.direction!=="rtl",o=Wr(l.writingMode||l.getPropertyValue("-webkit-writing-mode")||l.getPropertyValue("-ms-writing-mode")),[a,f]=_a(e,o,i);let[u,c,g,_]=ba(s,s.getBoundingClientRect(),l);for(let k=hn(s);k!==null;k=hn(k)){if(t!==k.ownerDocument){if(t=k.ownerDocument,r=t.defaultView,!r)break;const{left:it,top:Ft}=k.getBoundingClientRect();u+=Ft,c+=it,g+=Ft,_+=it}const I=r.getComputedStyle(k);if(I.position==="fixed")break;if(!$a(k,I))continue;const T=k.getBoundingClientRect(),[F,U,Y,z]=wa(k,T),N=pn(a,z,U,k.clientWidth,_,c,c-_),W=pn(f,F,Y,k.clientHeight,u,g,g-u),L=N===null?0:Qe(N,_,c)-Qe(N,z,U),Q=W===null?0:Qe(W,u,g)-Qe(W,F,Y),Ae=ga(I)?ct(L,-k.scrollWidth+k.clientWidth-k.scrollLeft,-k.scrollLeft):ct(L,-k.scrollLeft,k.scrollWidth-k.clientWidth-k.scrollLeft),pe=ct(Q,-k.scrollTop,k.scrollHeight-k.clientHeight-k.scrollTop);n.push([k,{left:k.scrollLeft+Ae,top:k.scrollTop+pe,behavior:e.behavior}]),u=Math.max(u-pe,F),c=Math.min(c-Ae,U),g=Math.min(g-pe,Y),_=Math.max(_-Ae,z)}return n},mt=(s,e,n)=>{const t=e||{};if(!Pr(t.behavior))throw new TypeError(Hr("scrollIntoView","Element",t.behavior));va(s,t).forEach(([l,i])=>{da(l,i,n)})};function ka(s){let e,n;return{c(){e=q("svg"),n=q("path"),p(n,"d",s[0]),p(e,"viewBox","0 0 24 24"),p(e,"role","presentation"),p(e,"class","svelte-180fvoz")},m(t,r){w(t,e,r),C(e,n)},p(t,[r]){r&1&&p(n,"d",t[0])},i:S,o:S,d(t){t&&v(e)}}}function Ia(s,e,n){let{path:t}=e;return s.$$set=r=>{"path"in r&&n(0,t=r.path)},[t]}class Ca extends D{constructor(e){super(),B(this,e,Ia,ka,M,{path:0})}}const Ta="M20.579 9.062a5.946 5.946 0 0 0-5.759-4.48H14v-.744A2.337 2.337 0 0 0 12 2a2.337 2.337 0 0 0-2 1.838v.744H8.871a5.946 5.946 0 0 0-5.759 4.48C1.761 9.157 1 10 1 11.646v5.206a2.527 2.527 0 0 0 2.294 2.6 2.549 2.549 0 0 0 .827-.147 5.934 5.934 0 0 0 4.75 2.378h5.949a5.933 5.933 0 0 0 4.75-2.378 2.549 2.549 0 0 0 .827.147 2.6 2.6 0 0 0 2.6-2.6v-5.206a2.6 2.6 0 0 0-2.418-2.584zM10.358 16.48a1.487 1.487 0 1 1-2.974 0v-1.487a1.487 1.487 0 1 1 2.974 0zm5.949 0a1.487 1.487 0 1 1-2.974 0v-1.487a1.487 1.487 0 1 1 2.974 0z";function Aa(s){let e,n;return e=new Ca({props:{path:Ta}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p:S,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}class ya extends D{constructor(e){super(),B(this,e,null,Aa,M,{})}}function Ma(s){let e,n,t;var r=s[0];function l(i,o){return{}}return r&&(n=Oe(r,l())),{c(){e=y("div"),n&&$(n.$$.fragment),p(e,"class","w-6 h-6 flex-center bg-slate-300 text-white text-sm rounded-full"),p(e,"data-testid",s[1])},m(i,o){w(i,e,o),n&&h(n,e,null),t=!0},p(i,[o]){if(o&1&&r!==(r=i[0])){if(n){O();const a=n;d(a.$$.fragment,1,0,()=>{b(a,1)}),P()}r?(n=Oe(r,l()),$(n.$$.fragment),m(n.$$.fragment,1),h(n,e,null)):n=null}(!t||o&2)&&p(e,"data-testid",i[1])},i(i){t||(n&&m(n.$$.fragment,i),t=!0)},o(i){n&&d(n.$$.fragment,i),t=!1},d(i){i&&v(e),n&&b(n)}}}function Da(s,e,n){let{icon:t}=e,{testId:r=void 0}=e;return s.$$set=l=>{"icon"in l&&n(0,t=l.icon),"testId"in l&&n(1,r=l.testId)},[t,r]}class Gr extends D{constructor(e){super(),B(this,e,Da,Ma,M,{icon:0,testId:1})}}function Ba(s){let e,n;return e=new Gr({props:{icon:ya,testId:K.avatarBot}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p:S,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}class Sa extends D{constructor(e){super(),B(this,e,null,Ba,M,{})}}function Fa(s){let e,n;return e=new be({props:{content:s[3].fullname,placement:"top",variant:"light",isDisabledForTouchDevices:!1,$$slots:{default:[Ra]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&8&&(l.content=t[3].fullname),r&42&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function La(s){let e,n;return e=new be({props:{content:"Bot",placement:"top",variant:"light",isDisabledForTouchDevices:!1,$$slots:{default:[Ea]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&32&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Ra(s){let e,n;return e=new Ir({props:{size:"sm",avatar:s[3].avatar,isEmailType:s[1]}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&8&&(l.avatar=t[3].avatar),r&2&&(l.isEmailType=t[1]),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Ea(s){let e,n;return e=new Sa({}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Na(s){let e,n,t,r;const l=[La,Fa],i=[];function o(a,f){return a[0]?0:a[3]?1:-1}return~(n=o(s))&&(t=i[n]=l[n](s)),{c(){e=y("div"),t&&t.c(),p(e,"class","absolute bottom-0 left-0 avatar-element")},m(a,f){w(a,e,f),~n&&i[n].m(e,null),r=!0},p(a,[f]){let u=n;n=o(a),n===u?~n&&i[n].p(a,f):(t&&(O(),d(i[u],1,1,()=>{i[u]=null}),P()),~n?(t=i[n],t?t.p(a,f):(t=i[n]=l[n](a),t.c()),m(t,1),t.m(e,null)):t=null)},i(a){r||(m(t),r=!0)},o(a){d(t),r=!1},d(a){a&&v(e),~n&&i[n].d()}}}function Oa(s,e,n){let t,r,l=S,i=()=>(l(),l=fe(t,u=>n(3,r=u)),t);s.$$.on_destroy.push(()=>l());let{agentId:o=""}=e,{isBot:a=!1}=e,{isEmailType:f=!1}=e;return s.$$set=u=>{"agentId"in u&&n(4,o=u.agentId),"isBot"in u&&n(0,a=u.isBot),"isEmailType"in u&&n(1,f=u.isEmailType)},s.$$.update=()=>{s.$$.dirty&16&&i(n(2,t=Fs(o??"")))},[a,f,t,r,o]}class Pa extends D{constructor(e){super(),B(this,e,Oa,Na,M,{agentId:4,isBot:0,isEmailType:1})}}function bn(s){let e,n;return e=new Pa({props:{agentId:s[2],isBot:s[3],isEmailType:Ht(s[4])}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&4&&(l.agentId=t[2]),r&8&&(l.isBot=t[3]),r&16&&(l.isEmailType=Ht(t[4])),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Va(s){let e,n,t,r;const l=s[6].default,i=re(l,s,s[5],null);let o=s[1]&&bn(s);return{c(){e=y("div"),n=y("div"),i&&i.c(),t=R(),o&&o.c(),p(n,"class","flex flex-col"),A(n,"ml-8",s[0].isLeft&&s[1]),A(n,"justify-start",s[0].isLeft),A(n,"items-start",s[0].isLeft),A(n,"justify-end",s[0].isRight),A(n,"items-end",s[0].isRight),p(e,"class","relative not-last:mb-4 message-group"),p(e,"data-testid",K.messageGroup)},m(a,f){w(a,e,f),C(e,n),i&&i.m(n,null),C(e,t),o&&o.m(e,null),r=!0},p(a,[f]){i&&i.p&&(!r||f&32)&&se(i,l,a,a[5],r?ie(l,a[5],f,null):le(a[5]),null),(!r||f&3)&&A(n,"ml-8",a[0].isLeft&&a[1]),(!r||f&1)&&A(n,"justify-start",a[0].isLeft),(!r||f&1)&&A(n,"items-start",a[0].isLeft),(!r||f&1)&&A(n,"justify-end",a[0].isRight),(!r||f&1)&&A(n,"items-end",a[0].isRight),a[1]?o?(o.p(a,f),f&2&&m(o,1)):(o=bn(a),o.c(),m(o,1),o.m(e,null)):o&&(O(),d(o,1,1,()=>{o=null}),P())},i(a){r||(m(i,a),m(o),r=!0)},o(a){d(i,a),d(o),r=!1},d(a){a&&v(e),i&&i.d(a),o&&o.d()}}}function Ha(s,e,n){let{$$slots:t={},$$scope:r}=e,{align:l}=e,{showAvatar:i}=e,{agentId:o}=e,{isBot:a}=e,{messagesContext:f}=e;return s.$$set=u=>{"align"in u&&n(0,l=u.align),"showAvatar"in u&&n(1,i=u.showAvatar),"agentId"in u&&n(2,o=u.agentId),"isBot"in u&&n(3,a=u.isBot),"messagesContext"in u&&n(4,f=u.messagesContext),"$$scope"in u&&n(5,r=u.$$scope)},[l,i,o,a,f,r,t]}class ja extends D{constructor(e){super(),B(this,e,Ha,Va,M,{align:0,showAvatar:1,agentId:2,isBot:3,messagesContext:4})}}function Wa(s){let e,n,t,r,l;return t=new Ls({props:{size:"sm",color:"gray"}}),{c(){e=y("div"),n=y("div"),$(t.$$.fragment),p(n,"class","flex-center h-10 p-2 bg-slate-100 rounded-3xl"),p(e,"class","flex mt-8")},m(i,o){w(i,e,o),C(e,n),h(t,n,null),s[1](e),l=!0},p:S,i(i){l||(m(t.$$.fragment,i),r||me(()=>{r=_e(e,rt,{x:-20}),r.start()}),l=!0)},o(i){d(t.$$.fragment,i),l=!1},d(i){i&&v(e),b(t),s[1](null)}}}function za(s,e,n){let{ref:t=void 0}=e;function r(l){de[l?"unshift":"push"](()=>{t=l,n(0,t)})}return s.$$set=l=>{"ref"in l&&n(0,t=l.ref)},[t,r]}class Ga extends D{constructor(e){super(),B(this,e,za,Wa,M,{ref:0})}}function Ua(s){let e,n,t;const r=s[4].default,l=re(r,s,s[3],null);return{c(){e=y("div"),l&&l.c(),p(e,"class","flex relative"),p(e,"data-testid",s[1]),A(e,"justify-end",s[2])},m(i,o){w(i,e,o),l&&l.m(e,null),t=!0},p(i,[o]){s=i,l&&l.p&&(!t||o&8)&&se(l,r,s,s[3],t?ie(r,s[3],o,null):le(s[3]),null),(!t||o&2)&&p(e,"data-testid",s[1]),(!t||o&4)&&A(e,"justify-end",s[2])},i(i){t||(m(l,i),n||me(()=>{n=_e(e,rt,{duration:350,x:-20,delay:s[0]}),n.start()}),t=!0)},o(i){d(l,i),t=!1},d(i){i&&v(e),l&&l.d(i)}}}function Xa(s,e,n){let{$$slots:t={},$$scope:r}=e,{animationDelay:l=0}=e,{testId:i=void 0}=e,{isContact:o=!1}=e;return s.$$set=a=>{"animationDelay"in a&&n(0,l=a.animationDelay),"testId"in a&&n(1,i=a.testId),"isContact"in a&&n(2,o=a.isContact),"$$scope"in a&&n(3,r=a.$$scope)},[l,i,o,r,t]}class Ue extends D{constructor(e){super(),B(this,e,Xa,Ua,M,{animationDelay:0,testId:1,isContact:2})}}function wn(s,e,n){const t=s.slice();return t[7]=e[n],t[9]=n,t}function qa(s){let e,n;return e=new Cr({props:{card:s[2].items[0]}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&4&&(l.card=t[2].items[0]),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Ya(s){let e=s[4],n,t,r=kn(s);return{c(){r.c(),n=X()},m(l,i){r.m(l,i),w(l,n,i),t=!0},p(l,i){i&16&&M(e,e=l[4])?(O(),d(r,1,1,S),P(),r=kn(l),r.c(),m(r,1),r.m(n.parentNode,n)):r.p(l,i)},i(l){t||(m(r),t=!0)},o(l){d(r),t=!1},d(l){l&&v(n),r.d(l)}}}function vn(s,e){let n,t,r;return t=new Cr({props:{card:e[7]}}),{key:s,first:null,c(){n=X(),$(t.$$.fragment),this.first=n},m(l,i){w(l,n,i),h(t,l,i),r=!0},p(l,i){e=l;const o={};i&4&&(o.card=e[7]),t.$set(o)},i(l){r||(m(t.$$.fragment,l),r=!0)},o(l){d(t.$$.fragment,l),r=!1},d(l){l&&v(n),b(t,l)}}}function Ja(s){let e=[],n=new Map,t,r,l=te(s[2].items);const i=o=>o[9];for(let o=0;o<l.length;o+=1){let a=wn(s,l,o),f=i(a);n.set(f,e[o]=vn(f,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();t=X()},m(o,a){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(o,a);w(o,t,a),r=!0},p(o,a){a&4&&(l=te(o[2].items),O(),e=he(e,a,i,1,o,l,n,t.parentNode,Ce,vn,t,wn),P())},i(o){if(!r){for(let a=0;a<l.length;a+=1)m(e[a]);r=!0}},o(o){for(let a=0;a<e.length;a+=1)d(e[a]);r=!1},d(o){o&&v(t);for(let a=0;a<e.length;a+=1)e[a].d(o)}}}function kn(s){let e,n,t,r;return n=new fl({props:{controls:!st(),perPage:s[4]?2:1,$$slots:{default:[Ja]},$$scope:{ctx:s}}}),n.$on("change",s[5]),{c(){e=y("div"),$(n.$$.fragment),p(e,"class",t=`${s[4]?"w-116":"w-56"} relative ${s[0].messageContext.group.align.isRight?"mr-4":""}`)},m(l,i){w(l,e,i),h(n,e,null),s[6](e),r=!0},p(l,i){const o={};i&16&&(o.perPage=l[4]?2:1),i&1028&&(o.$$scope={dirty:i,ctx:l}),n.$set(o),(!r||i&17&&t!==(t=`${l[4]?"w-116":"w-56"} relative ${l[0].messageContext.group.align.isRight?"mr-4":""}`))&&p(e,"class",t)},i(l){r||(m(n.$$.fragment,l),r=!0)},o(l){d(n.$$.fragment,l),r=!1},d(l){l&&v(e),b(n),s[6](null)}}}function Ka(s){let e,n,t,r;const l=[Ya,qa],i=[];function o(a,f){return a[2].items.length>1?0:1}return e=o(s),n=i[e]=l[e](s),{c(){n.c(),t=X()},m(a,f){i[e].m(a,f),w(a,t,f),r=!0},p(a,[f]){let u=e;e=o(a),e===u?i[e].p(a,f):(O(),d(i[u],1,1,()=>{i[u]=null}),P(),n=i[e],n?n.p(a,f):(n=i[e]=l[e](a),n.c()),m(n,1),n.m(t.parentNode,t))},i(a){r||(m(n),r=!0)},o(a){d(n),r=!1},d(a){a&&v(t),i[e].d(a)}}}function Qa(s,e,n){let t,r,l,i=S,o=()=>(i(),i=fe(t,g=>n(0,l=g)),t),a;E(s,kt,g=>n(4,a=g)),s.$$.on_destroy.push(()=>i());let f;const u=g=>{const _=f.closest(".message-group"),k=_&&_.getElementsByClassName("avatar-element")[0];k&&(f&&g.detail.currentSlide>0?k.setAttribute("style","opacity: 0; transition: opacity 100ms;"):k.setAttribute("style","opacity: 1; transition: opacity 600ms;"))};function c(g){de[g?"unshift":"push"](()=>{f=g,n(1,f)})}return s.$$.update=()=>{s.$$.dirty&1&&n(2,r=l.attachment)},o(n(3,t=ce(je))),[l,f,r,t,a,u,c]}class Za extends D{constructor(e){super(),B(this,e,Qa,Ka,M,{})}}function xa(s){let e,n;const t=s[12].default,r=re(t,s,s[11],null);return{c(){e=y("div"),r&&r.c(),p(e,"class","message-content px-4 py-2.5 text-base svelte-5699bz"),A(e,"text-sm",!s[6]),A(e,"bg-primary-gradient-button",s[4].isPrimary),A(e,"text-primary-content",s[4].isPrimary),A(e,"bg-slate-100",s[4].isSecondary),A(e,"text-slate-800",s[4].isSecondary),A(e,"message-content-left",s[3].isLeft),A(e,"message-content-left-first",s[3].isLeft&&!s[2]),A(e,"message-content-left-last",s[3].isLeft&&!s[1]),A(e,"message-content-right",s[3].isRight),A(e,"message-content-right-first",s[3].isRight&&!s[2]),A(e,"message-content-right-last",s[3].isRight&&!s[1])},m(l,i){w(l,e,i),r&&r.m(e,null),n=!0},p(l,[i]){r&&r.p&&(!n||i&2048)&&se(r,t,l,l[11],n?ie(t,l[11],i,null):le(l[11]),null),(!n||i&64)&&A(e,"text-sm",!l[6]),(!n||i&16)&&A(e,"bg-primary-gradient-button",l[4].isPrimary),(!n||i&16)&&A(e,"text-primary-content",l[4].isPrimary),(!n||i&16)&&A(e,"bg-slate-100",l[4].isSecondary),(!n||i&16)&&A(e,"text-slate-800",l[4].isSecondary),(!n||i&8)&&A(e,"message-content-left",l[3].isLeft),(!n||i&12)&&A(e,"message-content-left-first",l[3].isLeft&&!l[2]),(!n||i&10)&&A(e,"message-content-left-last",l[3].isLeft&&!l[1]),(!n||i&8)&&A(e,"message-content-right",l[3].isRight),(!n||i&12)&&A(e,"message-content-right-first",l[3].isRight&&!l[2]),(!n||i&10)&&A(e,"message-content-right-last",l[3].isRight&&!l[1])},i(l){n||(m(r,l),n=!0)},o(l){d(r,l),n=!1},d(l){l&&v(e),r&&r.d(l)}}}function ef(s,e,n){let t,r,l,i,o,a,f,u,c,g=S,_=()=>(g(),g=fe(a,z=>n(9,c=z)),a),k,I=S,T=()=>(I(),I=fe(t,z=>n(10,k=z)),t),F;E(s,$r,z=>n(6,F=z)),s.$$.on_destroy.push(()=>g()),s.$$.on_destroy.push(()=>I());let{$$slots:U={},$$scope:Y}=e;return s.$$set=z=>{"$$scope"in z&&n(11,Y=z.$$scope)},s.$$.update=()=>{s.$$.dirty&1024&&n(4,{group:{variant:r,align:l},neighbors:{hasTop:i,hasBottom:o}}=k,r,(n(3,l),n(10,k)),(n(8,i),n(10,k)),(n(7,o),n(10,k))),s.$$.dirty&769&&n(2,f=a?c.neighbors.hasTop:i),s.$$.dirty&641&&n(1,u=a?c.neighbors.hasBottom:o)},T(n(5,t=ce(ge))),_(n(0,a=ce(je))),[a,u,f,l,r,t,F,o,i,c,k,Y,U]}class Xe extends D{constructor(e){super(),B(this,e,ef,xa,M,{})}}function In(s){let e,n,t,r,l,i,o;return n=new Xe({props:{$$slots:{default:[tf]},$$scope:{ctx:s}}}),{c(){e=y("a"),$(n.$$.fragment),p(e,"class","block"),p(e,"href",t=jt(s[0].url,s[0].fileName)),p(e,"download",r=s[0].fileName),p(e,"target","_blank"),p(e,"rel","noreferrer"),p(e,"data-testid",K.messageFile)},m(a,f){w(a,e,f),h(n,e,null),l=!0,i||(o=J(e,"click",s[3]),i=!0)},p(a,f){const u={};f&33&&(u.$$scope={dirty:f,ctx:a}),n.$set(u),(!l||f&1&&t!==(t=jt(a[0].url,a[0].fileName)))&&p(e,"href",t),(!l||f&1&&r!==(r=a[0].fileName))&&p(e,"download",r)},i(a){l||(m(n.$$.fragment,a),l=!0)},o(a){d(n.$$.fragment,a),l=!1},d(a){a&&v(e),b(n),i=!1,o()}}}function tf(s){let e,n,t,r=s[0].fileName+"",l,i,o,a=s[2](s[0].size)+"",f,u,c,g=Wt(s[0].fileName)+"",_,k,I,T,F,U;return F=new Lr({props:{width:"1em",height:"1em",style:"transform: scale(1.2);"}}),{c(){e=y("div"),n=y("div"),t=y("div"),l=j(r),i=R(),o=y("div"),f=j(a),u=R(),c=y("div"),_=j(g),k=R(),I=y("div"),T=y("div"),$(F.$$.fragment),p(n,"class","flex-grow flex flex-col"),p(c,"class","flex-shrink px-3 font-bold text-sm whitespace-nowrap select-none"),p(T,"class","inline-block p-2 bg-slate-100 text-neutral-500 rounded-full"),p(I,"class","flex-shrink"),p(e,"class","flex w-full items-center no-underline")},m(Y,z){w(Y,e,z),C(e,n),C(n,t),C(t,l),C(n,i),C(n,o),C(o,f),C(e,u),C(e,c),C(c,_),C(e,k),C(e,I),C(I,T),h(F,T,null),U=!0},p(Y,z){(!U||z&1)&&r!==(r=Y[0].fileName+"")&&G(l,r),(!U||z&1)&&a!==(a=Y[2](Y[0].size)+"")&&G(f,a),(!U||z&1)&&g!==(g=Wt(Y[0].fileName)+"")&&G(_,g)},i(Y){U||(m(F.$$.fragment,Y),U=!0)},o(Y){d(F.$$.fragment,Y),U=!1},d(Y){Y&&v(e),b(F)}}}function nf(s){let e,n,t=s[0]&&s[0].type===Z.AttachmentType.File&&In(s);return{c(){t&&t.c(),e=X()},m(r,l){t&&t.m(r,l),w(r,e,l),n=!0},p(r,[l]){r[0]&&r[0].type===Z.AttachmentType.File?t?(t.p(r,l),l&1&&m(t,1)):(t=In(r),t.c(),m(t,1),t.m(e.parentNode,e)):t&&(O(),d(t,1,1,()=>{t=null}),P())},i(r){n||(m(t),n=!0)},o(r){d(t),n=!1},d(r){r&&v(e),t&&t.d(r)}}}function rf(s,e,n){let t,r,l,i=S,o=()=>(i(),i=fe(t,u=>n(4,l=u)),t);s.$$.on_destroy.push(()=>i());const a=u=>{if(typeof u!="number")return"";const{size:c,unit:g}=Rs(u);return`${c} ${g}`},f=u=>{r.type===Z.AttachmentType.File&&Es(r.fileType||"")&&(u.preventDefault(),hr.set({attachment:r,type:br.Video}))};return s.$$.update=()=>{s.$$.dirty&16&&n(0,r=l.attachment)},o(n(1,t=ce(je))),[r,t,a,f,l]}class sf extends D{constructor(e){super(),B(this,e,rf,nf,M,{})}}function Cn(s){let e,n,t,r,l,i,o,a;return{c(){e=y("div"),n=y("img"),p(n,"class","min-h-[16px] min-w-[16px] max-h-[240px] bg-slate-200"),or(n.src,t=s[4]())||p(n,"src",t),p(n,"alt",r=s[0].fileName),p(n,"width",l=s[0].width),p(n,"height",i=s[0].height),A(n,"rounded-r-3xl",s[1].isLeft),A(n,"rounded-lt-3xl",s[1].isLeft&&!s[2].hasTop),A(n,"rounded-lb-3xl",s[1].isLeft&&!s[2].hasBottom),A(n,"rounded-l-3xl",s[1].isRight),A(n,"rounded-rt-3xl",s[1].isRight&&!s[2].hasTop),A(n,"rounded-rb-3xl",s[1].isRight&&!s[2].hasBottom),p(e,"class","cursor-pointer max-w-[80%]"),p(e,"data-testid",K.messageImage),A(e,"float-right",s[1].isRight)},m(f,u){w(f,e,u),C(e,n),o||(a=[J(n,"load",s[6]),J(e,"click",s[5]),J(e,"keydown",s[9]),J(e,"keyup",s[10])],o=!0)},p(f,u){u&1&&r!==(r=f[0].fileName)&&p(n,"alt",r),u&1&&l!==(l=f[0].width)&&p(n,"width",l),u&1&&i!==(i=f[0].height)&&p(n,"height",i),u&2&&A(n,"rounded-r-3xl",f[1].isLeft),u&6&&A(n,"rounded-lt-3xl",f[1].isLeft&&!f[2].hasTop),u&6&&A(n,"rounded-lb-3xl",f[1].isLeft&&!f[2].hasBottom),u&2&&A(n,"rounded-l-3xl",f[1].isRight),u&6&&A(n,"rounded-rt-3xl",f[1].isRight&&!f[2].hasTop),u&6&&A(n,"rounded-rb-3xl",f[1].isRight&&!f[2].hasBottom),u&2&&A(e,"float-right",f[1].isRight)},d(f){f&&v(e),o=!1,Be(a)}}}function lf(s){let e,n=s[0]&&s[0].type===Z.AttachmentType.Image&&Cn(s);return{c(){n&&n.c(),e=X()},m(t,r){n&&n.m(t,r),w(t,e,r)},p(t,[r]){t[0]&&t[0].type===Z.AttachmentType.Image?n?n.p(t,r):(n=Cn(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:S,o:S,d(t){t&&v(e),n&&n.d(t)}}}function of(s,e,n){let t,r,l,i,o,a,f=S,u=()=>(f(),f=fe(t,T=>n(8,a=T)),t);s.$$.on_destroy.push(()=>f());const c=()=>{var T;return!i||i.type!==Z.AttachmentType.Image?"":((T=i.thumb400)==null?void 0:T.url)||i.url},g=()=>{i.type===Z.AttachmentType.Image&&hr.set({attachment:i,type:br.Image})},_=T=>{const F=T.target;F.removeAttribute("width"),F.removeAttribute("height"),F.classList.remove("bg-slate-200")};function k(T){x.call(this,s,T)}function I(T){x.call(this,s,T)}return s.$$.update=()=>{s.$$.dirty&256&&n(2,{neighbors:r,messageContext:{group:l},attachment:i}=a,r,(n(7,l),n(8,a)),(n(0,i),n(8,a))),s.$$.dirty&128&&n(1,{align:o}=l,o)},u(n(3,t=ce(je))),[i,o,r,t,c,g,_,l,a,k,I]}class af extends D{constructor(e){super(),B(this,e,of,lf,M,{})}}function Tn(s){let e,n,t,r;const l=[cf,uf,ff],i=[];function o(a,f){return a[0].type===Z.AttachmentType.File?0:a[0].type===Z.AttachmentType.Image?1:a[0].type===Z.AttachmentType.Cards?2:-1}return~(e=o(s))&&(n=i[e]=l[e](s)),{c(){n&&n.c(),t=X()},m(a,f){~e&&i[e].m(a,f),w(a,t,f),r=!0},p(a,f){let u=e;e=o(a),e!==u&&(n&&(O(),d(i[u],1,1,()=>{i[u]=null}),P()),~e?(n=i[e],n||(n=i[e]=l[e](a),n.c()),m(n,1),n.m(t.parentNode,t)):n=null)},i(a){r||(m(n),r=!0)},o(a){d(n),r=!1},d(a){a&&v(t),~e&&i[e].d(a)}}}function ff(s){let e,n;return e=new Za({}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function uf(s){let e,n;return e=new af({}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function cf(s){let e,n;return e=new sf({}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function mf(s){let e,n,t=s[0]&&Tn(s);return{c(){t&&t.c(),e=X()},m(r,l){t&&t.m(r,l),w(r,e,l),n=!0},p(r,[l]){r[0]?t?(t.p(r,l),l&1&&m(t,1)):(t=Tn(r),t.c(),m(t,1),t.m(e.parentNode,e)):t&&(O(),d(t,1,1,()=>{t=null}),P())},i(r){n||(m(t),n=!0)},o(r){d(t),n=!1},d(r){r&&v(e),t&&t.d(r)}}}function df(s,e,n){let t,r,{context:l}=e,i=ye(l);return E(s,i,o=>n(3,r=o)),ar(je,i),s.$$set=o=>{"context"in o&&n(2,l=o.context)},s.$$.update=()=>{s.$$.dirty&4&&Qr(i,r=l,r),s.$$.dirty&4&&n(0,t=l.attachment)},[t,i,l]}class gf extends D{constructor(e){super(),B(this,e,df,mf,M,{context:2})}}function _f(s){let e;const n=s[7].default,t=re(n,s,s[8],null);return{c(){t&&t.c()},m(r,l){t&&t.m(r,l),e=!0},p(r,l){t&&t.p&&(!e||l&256)&&se(t,n,r,r[8],e?ie(n,r[8],l,null):le(r[8]),null)},i(r){e||(m(t,r),e=!0)},o(r){d(t,r),e=!1},d(r){t&&t.d(r)}}}function pf(s){let e,n;return e=new be({props:{content:s[1].format(s[0]),placement:s[2],variant:"light",isDisabledForTouchDevices:!1,$$slots:{default:[_f]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,[r]){const l={};r&3&&(l.content=t[1].format(t[0])),r&4&&(l.placement=t[2]),r&256&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function $f(s,e,n){let t,r,l,i,o=S,a=()=>(o(),o=fe(t,k=>n(6,i=k)),t);s.$$.on_destroy.push(()=>o());let{$$slots:f={},$$scope:u}=e,{createdAt:c}=e,g,_;return s.$$set=k=>{"createdAt"in k&&n(4,c=k.createdAt),"$$scope"in k&&n(8,u=k.$$scope)},s.$$.update=()=>{s.$$.dirty&64&&n(5,{align:r}=i.group,r),s.$$.dirty&16&&n(0,l=new Date(c)),s.$$.dirty&1&&n(1,g=wr(l)),s.$$.dirty&32&&n(2,_=r.isLeft?"top-start":"top-end")},a(n(3,t=ce(ge))),[l,g,_,t,c,r,i,f,u]}class qe extends D{constructor(e){super(),B(this,e,$f,pf,M,{createdAt:4})}}function hf(s){let e=s[1].format(s[0])+"",n;return{c(){n=j(e)},m(t,r){w(t,n,r)},p(t,[r]){r&3&&e!==(e=t[1].format(t[0])+"")&&G(n,e)},i:S,o:S,d(t){t&&v(n)}}}function bf(s,e,n){let t,{date:r}=e,l;return s.$$set=i=>{"date"in i&&n(2,r=i.date)},s.$$.update=()=>{s.$$.dirty&4&&n(0,t=new Date(r)),s.$$.dirty&1&&n(1,l=wr(t))},[t,l,r]}class wf extends D{constructor(e){super(),B(this,e,bf,hf,M,{date:2})}}function vf(s){let e;return{c(){e=j(s[0])},m(n,t){w(n,e,t)},p(n,[t]){t&1&&G(e,n[0])},i:S,o:S,d(n){n&&v(e)}}}function kf(s,e,n){let t;E(s,ur,f=>n(2,t=f));let{date:r}=e;const l=60*1e3;let i,o;const a=(f,u)=>{const c=Ns(new Date(f),new Date);return Os(c,u)};return Se(()=>(i=Me().setInterval(()=>{n(0,o=a(r,t))},l),()=>{i&&Me().clearInterval(i)})),s.$$set=f=>{"date"in f&&n(1,r=f.date)},s.$$.update=()=>{s.$$.dirty&6&&n(0,o=a(r,t))},[o,r,t]}class If extends D{constructor(e){super(),B(this,e,kf,vf,M,{date:1})}}function An(s){let e,n,t,r,l;const i=[Tf,Cf],o=[];function a(f,u){return Ps()?0:1}return n=a(),t=o[n]=i[n](s),{c(){e=y("div"),t.c(),p(e,"class","absolute -bottom-4.5 w-max text-xs text-gray-400"),A(e,"left-2",s[4].isLeft),A(e,"right-2",s[4].isRight)},m(f,u){w(f,e,u),o[n].m(e,null),l=!0},p(f,u){t.p(f,u),(!l||u&16)&&A(e,"left-2",f[4].isLeft),(!l||u&16)&&A(e,"right-2",f[4].isRight)},i(f){l||(m(t),f&&(r||me(()=>{r=_e(e,Ee,{delay:800}),r.start()})),l=!0)},o(f){d(t),l=!1},d(f){f&&v(e),o[n].d()}}}function Cf(s){let e,n;return e=new wf({props:{date:s[0]}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&1&&(l.date=t[0]),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Tf(s){let e,n;return e=new If({props:{date:s[0]}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&1&&(l.date=t[0]),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Af(s){let e,n,t=s[2]&&(!s[3]||s[1])&&An(s);return{c(){t&&t.c(),e=X()},m(r,l){t&&t.m(r,l),w(r,e,l),n=!0},p(r,[l]){r[2]&&(!r[3]||r[1])?t?(t.p(r,l),l&14&&m(t,1)):(t=An(r),t.c(),m(t,1),t.m(e.parentNode,e)):t&&(O(),d(t,1,1,()=>{t=null}),P())},i(r){n||(m(t),n=!0)},o(r){d(t),n=!1},d(r){r&&v(e),t&&t.d(r)}}}function yf(s,e,n){let t,r,l,i,o,a=S,f=()=>(a(),a=fe(t,I=>n(8,o=I)),t),u;E(s,vr,I=>n(9,u=I)),s.$$.on_destroy.push(()=>a());let{id:c}=e,{createdAt:g}=e,{isLastAttachment:_=!1}=e,k;return s.$$set=I=>{"id"in I&&n(6,c=I.id),"createdAt"in I&&n(0,g=I.createdAt),"isLastAttachment"in I&&n(1,_=I.isLastAttachment)},s.$$.update=()=>{s.$$.dirty&576&&n(2,k=c===u),s.$$.dirty&256&&n(4,{group:{align:r},attachmentsContext:l}=o,r,(n(7,l),n(8,o))),s.$$.dirty&128&&n(3,i=l.length>0)},f(n(5,t=ce(ge))),[g,_,k,i,r,t,c,l,o,u]}class Ye extends D{constructor(e){super(),B(this,e,yf,Af,M,{id:6,createdAt:0,isLastAttachment:1})}}function yn(s,e,n){const t=s.slice();return t[6]=e[n],t[8]=n,t}function Mf(s){let e,n,t,r;return e=new gf({props:{context:s[6]}}),t=new Ye({props:{id:s[4],createdAt:s[3],isLastAttachment:s[2].length-1===s[8]}}),{c(){$(e.$$.fragment),n=R(),$(t.$$.fragment)},m(l,i){h(e,l,i),w(l,n,i),h(t,l,i),r=!0},p(l,i){const o={};i&2&&(o.context=l[6]),e.$set(o);const a={};i&16&&(a.id=l[4]),i&8&&(a.createdAt=l[3]),i&6&&(a.isLastAttachment=l[2].length-1===l[8]),t.$set(a)},i(l){r||(m(e.$$.fragment,l),m(t.$$.fragment,l),r=!0)},o(l){d(e.$$.fragment,l),d(t.$$.fragment,l),r=!1},d(l){l&&v(n),b(e,l),b(t,l)}}}function Df(s){let e,n;return e=new qe({props:{createdAt:s[3],$$slots:{default:[Mf]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&8&&(l.createdAt=t[3]),r&542&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Mn(s,e){let n,t,r,l;return t=new Ue({props:{isContact:e[0],$$slots:{default:[Df]},$$scope:{ctx:e}}}),{key:s,first:null,c(){n=y("div"),$(t.$$.fragment),r=R(),p(n,"data-testid",K.messageAttachment),A(n,"mb-4",e[6].extraSpaces.hasBottom),A(n,"mt-4",e[6].extraSpaces.hasTop),this.first=n},m(i,o){w(i,n,o),h(t,n,null),C(n,r),l=!0},p(i,o){e=i;const a={};o&1&&(a.isContact=e[0]),o&542&&(a.$$scope={dirty:o,ctx:e}),t.$set(a),(!l||o&2)&&A(n,"mb-4",e[6].extraSpaces.hasBottom),(!l||o&2)&&A(n,"mt-4",e[6].extraSpaces.hasTop)},i(i){l||(m(t.$$.fragment,i),l=!0)},o(i){d(t.$$.fragment,i),l=!1},d(i){i&&v(n),b(t)}}}function Bf(s){let e=[],n=new Map,t,r,l=te(s[1].attachmentsContext);const i=o=>o[8];for(let o=0;o<l.length;o+=1){let a=yn(s,l,o),f=i(a);n.set(f,e[o]=Mn(f,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();t=X()},m(o,a){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(o,a);w(o,t,a),r=!0},p(o,[a]){a&31&&(l=te(o[1].attachmentsContext),O(),e=he(e,a,i,1,o,l,n,t.parentNode,Ce,Mn,t,yn),P())},i(o){if(!r){for(let a=0;a<l.length;a+=1)m(e[a]);r=!0}},o(o){for(let a=0;a<e.length;a+=1)d(e[a]);r=!1},d(o){o&&v(t);for(let a=0;a<e.length;a+=1)e[a].d(o)}}}function Sf(s,e,n){let t,r,l,i,o,a=S,f=()=>(a(),a=fe(t,c=>n(1,o=c)),t);s.$$.on_destroy.push(()=>a());let{isContact:u=!1}=e;return s.$$set=c=>{"isContact"in c&&n(0,u=c.isContact)},s.$$.update=()=>{s.$$.dirty&2&&n(4,{id:r,createdAt:l}=o.message,r,(n(3,l),n(1,o))),s.$$.dirty&2&&n(2,{attachmentsContext:i}=o,i)},f(n(5,t=ce(ge))),[u,o,i,l,r,t]}class Bt extends D{constructor(e){super(),B(this,e,Sf,Bf,M,{isContact:0})}}function Dn(s){let e,n;return e=new Ue({props:{testId:K.messageAgent,$$slots:{default:[Ef]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&39&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Ff(s){let e,n;return e=new lt({props:{text:s[1].text}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&2&&(l.text=t[1].text),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Lf(s){let e,n;return e=new Tt({props:{$$slots:{default:[Ff]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&34&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Rf(s){let e,n;return e=new Xe({props:{$$slots:{default:[Lf]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&34&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Ef(s){let e,n,t,r;return e=new qe({props:{createdAt:s[0],$$slots:{default:[Rf]},$$scope:{ctx:s}}}),t=new Ye({props:{id:s[2],createdAt:s[0]}}),{c(){$(e.$$.fragment),n=R(),$(t.$$.fragment)},m(l,i){h(e,l,i),w(l,n,i),h(t,l,i),r=!0},p(l,i){const o={};i&1&&(o.createdAt=l[0]),i&34&&(o.$$scope={dirty:i,ctx:l}),e.$set(o);const a={};i&4&&(a.id=l[2]),i&1&&(a.createdAt=l[0]),t.$set(a)},i(l){r||(m(e.$$.fragment,l),m(t.$$.fragment,l),r=!0)},o(l){d(e.$$.fragment,l),d(t.$$.fragment,l),r=!1},d(l){l&&v(n),b(e,l),b(t,l)}}}function Nf(s){let e,n,t,r=s[1].text&&Dn(s);return n=new Bt({}),{c(){r&&r.c(),e=R(),$(n.$$.fragment)},m(l,i){r&&r.m(l,i),w(l,e,i),h(n,l,i),t=!0},p(l,[i]){l[1].text?r?(r.p(l,i),i&2&&m(r,1)):(r=Dn(l),r.c(),m(r,1),r.m(e.parentNode,e)):r&&(O(),d(r,1,1,()=>{r=null}),P())},i(l){t||(m(r),m(n.$$.fragment,l),t=!0)},o(l){d(r),d(n.$$.fragment,l),t=!1},d(l){l&&v(e),r&&r.d(l),b(n,l)}}}function Of(s,e,n){let t,r,l,i,o,a=S,f=()=>(a(),a=fe(t,u=>n(4,o=u)),t);return s.$$.on_destroy.push(()=>a()),s.$$.update=()=>{s.$$.dirty&16&&n(2,{message:{id:r,content:l,createdAt:i}}=o,r,(n(1,l),n(4,o)),(n(0,i),n(4,o)))},f(n(3,t=ce(ge))),[i,l,r,t,o]}class Pf extends D{constructor(e){super(),B(this,e,Of,Nf,M,{})}}function Bn(s){let e,n;return e=new Ue({props:{animationDelay:Vs,testId:K.messageBot,$$slots:{default:[Wf]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&71&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Vf(s){let e,n;return e=new lt({props:{text:s[1].text}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&2&&(l.text=t[1].text),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Hf(s){let e,n;return e=new Tt({props:{$$slots:{default:[Vf]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&66&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function jf(s){let e,n;return e=new Xe({props:{$$slots:{default:[Hf]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&66&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Wf(s){let e,n,t,r;return e=new qe({props:{createdAt:s[0],$$slots:{default:[jf]},$$scope:{ctx:s}}}),t=new Ye({props:{id:s[2],createdAt:s[0]}}),{c(){$(e.$$.fragment),n=R(),$(t.$$.fragment)},m(l,i){h(e,l,i),w(l,n,i),h(t,l,i),r=!0},p(l,i){const o={};i&1&&(o.createdAt=l[0]),i&66&&(o.$$scope={dirty:i,ctx:l}),e.$set(o);const a={};i&4&&(a.id=l[2]),i&1&&(a.createdAt=l[0]),t.$set(a)},i(l){r||(m(e.$$.fragment,l),m(t.$$.fragment,l),r=!0)},o(l){d(e.$$.fragment,l),d(t.$$.fragment,l),r=!1},d(l){l&&v(n),b(e,l),b(t,l)}}}function zf(s){let e,n,t,r=s[1].text&&Bn(s);return n=new Bt({}),{c(){r&&r.c(),e=R(),$(n.$$.fragment)},m(l,i){r&&r.m(l,i),w(l,e,i),h(n,l,i),t=!0},p(l,[i]){l[1].text?r?(r.p(l,i),i&2&&m(r,1)):(r=Bn(l),r.c(),m(r,1),r.m(e.parentNode,e)):r&&(O(),d(r,1,1,()=>{r=null}),P())},i(l){t||(m(r),m(n.$$.fragment,l),t=!0)},o(l){d(r),d(n.$$.fragment,l),t=!1},d(l){l&&v(e),r&&r.d(l),b(n,l)}}}function Gf(s,e,n){let t,r,l,i,o,a,f=S,u=()=>(f(),f=fe(t,c=>n(5,a=c)),t);return s.$$.on_destroy.push(()=>f()),s.$$.update=()=>{s.$$.dirty&32&&n(4,{message:r}=a,r),s.$$.dirty&16&&n(2,{id:l,content:i,createdAt:o}=r,l,(n(1,i),n(4,r),n(5,a)),(n(0,o),n(4,r),n(5,a)))},u(n(3,t=ce(ge))),[o,i,l,t,r,a]}class Uf extends D{constructor(e){super(),B(this,e,Gf,zf,M,{})}}function Xf(s){let e,n;return{c(){e=y("p"),n=j(s[1]),p(e,"class","py-2 break-all")},m(t,r){w(t,e,r),C(e,n)},p(t,r){r&2&&G(n,t[1])},d(t){t&&v(e)}}}function qf(s){let e,n,t,r;return n=new De({props:{variant:"outline",style:"height: fit-content",$$slots:{default:[Xf]},$$scope:{ctx:s}}}),n.$on("click",function(){Zr(s[3](s[1]))&&s[3](s[1]).apply(this,arguments)}),{c(){e=y("div"),$(n.$$.fragment),p(e,"class","mt-2 ml-2"),p(e,"data-testid",s[2])},m(l,i){w(l,e,i),h(n,e,null),r=!0},p(l,[i]){s=l;const o={};i&130&&(o.$$scope={dirty:i,ctx:s}),n.$set(o),(!r||i&4)&&p(e,"data-testid",s[2])},i(l){r||(m(n.$$.fragment,l),t||me(()=>{t=_e(e,rt,{delay:Hs+s[0]*200,duration:300,x:-20}),t.start()}),r=!0)},o(l){d(n.$$.fragment,l),r=!1},d(l){l&&v(e),b(n)}}}function Yf(s,e,n){let t;E(s,oe,u=>n(6,t=u));let{messageId:r}=e,{reply:l}=e,{index:i}=e;const o=u=>()=>{if(Le(pt))return;const c=r.replace(js,"");pt.set(!0),Ws.sendBotReply(c,u,l.payload)};let a,f=K.messageBotReply;return s.$$set=u=>{"messageId"in u&&n(4,r=u.messageId),"reply"in u&&n(5,l=u.reply),"index"in u&&n(0,i=u.index)},s.$$.update=()=>{s.$$.dirty&96&&n(1,a=l.payload.translate?t(l.text):l.text),s.$$.dirty&34&&l.payload.isGoBackButton&&(n(1,a=` ${a}`),n(2,f=K.messageBotBack))},[i,a,f,o,r,l,t]}class Ur extends D{constructor(e){super(),B(this,e,Yf,qf,M,{messageId:4,reply:5,index:0})}}function Sn(s,e,n){const t=s.slice();return t[7]=e[n],t}function Fn(s,e,n){const t=s.slice();return t[7]=e[n],t[11]=n,t}function Ln(s){let e,n,t,r=s[0].length>0&&Rn(s),l=s[1].length>0&&Nn(s);return{c(){r&&r.c(),e=R(),l&&l.c(),n=X()},m(i,o){r&&r.m(i,o),w(i,e,o),l&&l.m(i,o),w(i,n,o),t=!0},p(i,o){i[0].length>0?r?(r.p(i,o),o&1&&m(r,1)):(r=Rn(i),r.c(),m(r,1),r.m(e.parentNode,e)):r&&(O(),d(r,1,1,()=>{r=null}),P()),i[1].length>0?l?(l.p(i,o),o&2&&m(l,1)):(l=Nn(i),l.c(),m(l,1),l.m(n.parentNode,n)):l&&(O(),d(l,1,1,()=>{l=null}),P())},i(i){t||(m(r),m(l),t=!0)},o(i){d(r),d(l),t=!1},d(i){i&&(v(e),v(n)),r&&r.d(i),l&&l.d(i)}}}function Rn(s){let e,n=[],t=new Map,r,l=te(s[0]);const i=o=>o[7].payload.replyId||o[11];for(let o=0;o<l.length;o+=1){let a=Fn(s,l,o),f=i(a);t.set(f,n[o]=En(f,a))}return{c(){e=y("div");for(let o=0;o<n.length;o+=1)n[o].c();p(e,"class","flex flex-wrap justify-end")},m(o,a){w(o,e,a);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(e,null);r=!0},p(o,a){a&5&&(l=te(o[0]),O(),n=he(n,a,i,1,o,l,t,e,Ce,En,null,Fn),P())},i(o){if(!r){for(let a=0;a<l.length;a+=1)m(n[a]);r=!0}},o(o){for(let a=0;a<n.length;a+=1)d(n[a]);r=!1},d(o){o&&v(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function En(s,e){let n,t,r;return t=new Ur({props:{messageId:e[2],reply:e[7],index:e[11]}}),{key:s,first:null,c(){n=X(),$(t.$$.fragment),this.first=n},m(l,i){w(l,n,i),h(t,l,i),r=!0},p(l,i){e=l;const o={};i&4&&(o.messageId=e[2]),i&1&&(o.reply=e[7]),i&1&&(o.index=e[11]),t.$set(o)},i(l){r||(m(t.$$.fragment,l),r=!0)},o(l){d(t.$$.fragment,l),r=!1},d(l){l&&v(n),b(t,l)}}}function Nn(s){let e,n,t=te(s[1]),r=[];for(let i=0;i<t.length;i+=1)r[i]=On(Sn(s,t,i));const l=i=>d(r[i],1,1,()=>{r[i]=null});return{c(){e=y("div");for(let i=0;i<r.length;i+=1)r[i].c();p(e,"class","flex flex-wrap justify-end mt-2")},m(i,o){w(i,e,o);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null);n=!0},p(i,o){if(o&7){t=te(i[1]);let a;for(a=0;a<t.length;a+=1){const f=Sn(i,t,a);r[a]?(r[a].p(f,o),m(r[a],1)):(r[a]=On(f),r[a].c(),m(r[a],1),r[a].m(e,null))}for(O(),a=t.length;a<r.length;a+=1)l(a);P()}},i(i){if(!n){for(let o=0;o<t.length;o+=1)m(r[o]);n=!0}},o(i){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)d(r[o]);n=!1},d(i){i&&v(e),xr(r,i)}}}function On(s){let e,n;return e=new Ur({props:{messageId:s[2],reply:s[7],index:s[0].length}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&4&&(l.messageId=t[2]),r&2&&(l.reply=t[7]),r&1&&(l.index=t[0].length),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Jf(s){let e,n,t=s[3]&&Ln(s);return{c(){t&&t.c(),e=X()},m(r,l){t&&t.m(r,l),w(r,e,l),n=!0},p(r,[l]){r[3]?t?(t.p(r,l),l&8&&m(t,1)):(t=Ln(r),t.c(),m(t,1),t.m(e.parentNode,e)):t&&(O(),d(t,1,1,()=>{t=null}),P())},i(r){n||(m(t),n=!0)},o(r){d(t),n=!1},d(r){r&&v(e),t&&t.d(r)}}}function Kf(s,e,n){let t,r,l,i,o,a=S,f=()=>(a(),a=fe(t,g=>n(6,o=g)),t);s.$$.on_destroy.push(()=>a());let u=[],c=[];return s.$$.update=()=>{s.$$.dirty&64&&n(5,r=o.message),s.$$.dirty&32&&n(3,l=zs(r)),s.$$.dirty&32&&r.content.quickReplies&&(n(0,u=r.content.quickReplies.filter(g=>!g.payload.isGoBackButton)),n(1,c=r.content.quickReplies.filter(g=>g.payload.isGoBackButton))),s.$$.dirty&32&&n(2,{id:i}=r,i)},f(n(4,t=ce(ge))),[u,c,i,l,t,r,o]}class Qf extends D{constructor(e){super(),B(this,e,Kf,Jf,M,{})}}function Pn(s){let e,n;return e=new Ue({props:{isContact:!0,testId:K.messageContact,$$slots:{default:[tu]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&39&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Zf(s){let e,n;return e=new lt({props:{text:s[1].text}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&2&&(l.text=t[1].text),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function xf(s){let e,n;return e=new Tt({props:{$$slots:{default:[Zf]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&34&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function eu(s){let e,n;return e=new Xe({props:{$$slots:{default:[xf]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&34&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function tu(s){let e,n,t,r;return e=new qe({props:{createdAt:s[0],$$slots:{default:[eu]},$$scope:{ctx:s}}}),t=new Ye({props:{id:s[2],createdAt:s[0]}}),{c(){$(e.$$.fragment),n=R(),$(t.$$.fragment)},m(l,i){h(e,l,i),w(l,n,i),h(t,l,i),r=!0},p(l,i){const o={};i&1&&(o.createdAt=l[0]),i&34&&(o.$$scope={dirty:i,ctx:l}),e.$set(o);const a={};i&4&&(a.id=l[2]),i&1&&(a.createdAt=l[0]),t.$set(a)},i(l){r||(m(e.$$.fragment,l),m(t.$$.fragment,l),r=!0)},o(l){d(e.$$.fragment,l),d(t.$$.fragment,l),r=!1},d(l){l&&v(n),b(e,l),b(t,l)}}}function nu(s){let e,n,t,r=s[1].text&&Pn(s);return n=new Bt({props:{isContact:!0}}),{c(){r&&r.c(),e=R(),$(n.$$.fragment)},m(l,i){r&&r.m(l,i),w(l,e,i),h(n,l,i),t=!0},p(l,[i]){l[1].text?r?(r.p(l,i),i&2&&m(r,1)):(r=Pn(l),r.c(),m(r,1),r.m(e.parentNode,e)):r&&(O(),d(r,1,1,()=>{r=null}),P())},i(l){t||(m(r),m(n.$$.fragment,l),t=!0)},o(l){d(r),d(n.$$.fragment,l),t=!1},d(l){l&&v(e),r&&r.d(l),b(n,l)}}}function ru(s,e,n){let t,r,l,i,o,a=S,f=()=>(a(),a=fe(t,u=>n(4,o=u)),t);return s.$$.on_destroy.push(()=>a()),s.$$.update=()=>{s.$$.dirty&16&&n(2,{message:{id:r,content:l,createdAt:i}}=o,r,(n(1,l),n(4,o)),(n(0,i),n(4,o)))},f(n(3,t=ce(ge))),[i,l,r,t,o]}class su extends D{constructor(e){super(),B(this,e,ru,nu,M,{})}}function lu(s){let e,n,t,r,l=(s[3]??s[4]("agentTransfer.defaultText"))+"",i,o,a,f=s[4](s[0])+"",u,c,g,_,k;return e=new Ir({props:{avatar:s[1],size:"sm"}}),{c(){$(e.$$.fragment),n=R(),t=y("span"),r=y("span"),i=j(l),o=R(),a=y("span"),u=j(f),c=R(),g=y("span"),_=j(s[2]),p(r,"class","font-bold"),p(t,"class","ml-2 text-xs break-words overflow-hidden")},m(I,T){h(e,I,T),w(I,n,T),w(I,t,T),C(t,r),C(r,i),C(t,o),C(t,a),C(a,u),C(t,c),C(t,g),C(g,_),k=!0},p(I,[T]){const F={};T&2&&(F.avatar=I[1]),e.$set(F),(!k||T&24)&&l!==(l=(I[3]??I[4]("agentTransfer.defaultText"))+"")&&G(i,l),(!k||T&17)&&f!==(f=I[4](I[0])+"")&&G(u,f),(!k||T&4)&&G(_,I[2])},i(I){k||(m(e.$$.fragment,I),k=!0)},o(I){d(e.$$.fragment,I),k=!1},d(I){I&&(v(n),v(t)),b(e,I)}}}function iu(s,e,n){let t,r,l,i,o;E(s,Gs,_=>n(8,i=_)),E(s,oe,_=>n(4,o=_));let{agentId:a}=e,{text:f}=e,{createdAt:u}=e;const c=_=>_?i[_]??null:null;let g;return s.$$set=_=>{"agentId"in _&&n(5,a=_.agentId),"text"in _&&n(0,f=_.text),"createdAt"in _&&n(6,u=_.createdAt)},s.$$.update=()=>{s.$$.dirty&32&&n(7,t=c(a)),s.$$.dirty&128&&n(1,g=t==null?void 0:t.avatar),s.$$.dirty&128&&n(3,r=t==null?void 0:t.fullname),s.$$.dirty&64&&n(2,l=Us.format(new Date(u)))},[f,g,l,r,o,a,u,t]}class Je extends D{constructor(e){super(),B(this,e,iu,lu,M,{agentId:5,text:0,createdAt:6})}}function Vn(s,e,n){const t=s.slice();return t[7]=e[n],t}function ou(s){let e,n,t=s[3]("rating.wasItHelpful")+"",r,l,i,o,a,f,u,c=s[1]&&Hn(s);const g=[uu,fu],_=[];function k(I,T){return I[0]?0:1}return a=k(s),f=_[a]=g[a](s),{c(){e=y("div"),n=y("div"),r=j(t),l=R(),c&&c.c(),i=R(),o=y("div"),f.c(),p(n,"class","mb-4 text-sm font-semibold"),p(o,"class","mt-6"),p(e,"class","flex-center flex-col w-full px-4 pt-6 pb-4 bg-slate-100 text-xs text-slate-800 rounded-3xl")},m(I,T){w(I,e,T),C(e,n),C(n,r),C(e,l),c&&c.m(e,null),C(e,i),C(e,o),_[a].m(o,null),u=!0},p(I,T){(!u||T&8)&&t!==(t=I[3]("rating.wasItHelpful")+"")&&G(r,t),I[1]?c?c.p(I,T):(c=Hn(I),c.c(),c.m(e,i)):c&&(c.d(1),c=null);let F=a;a=k(I),a===F?_[a].p(I,T):(O(),d(_[F],1,1,()=>{_[F]=null}),P(),f=_[a],f?f.p(I,T):(f=_[a]=g[a](I),f.c()),m(f,1),f.m(o,null))},i(I){u||(m(f),u=!0)},o(I){d(f),u=!1},d(I){I&&v(e),c&&c.d(),_[a].d()}}}function au(s){let e,n,t;return n=new De({props:{variant:"outline",$$slots:{default:[mu]},$$scope:{ctx:s}}}),n.$on("click",s[4]),{c(){e=y("div"),$(n.$$.fragment),p(e,"class","flex-center w-full")},m(r,l){w(r,e,l),h(n,e,null),t=!0},p(r,l){const i={};l&1032&&(i.$$scope={dirty:l,ctx:r}),n.$set(i)},i(r){t||(m(n.$$.fragment,r),t=!0)},o(r){d(n.$$.fragment,r),t=!1},d(r){r&&v(e),b(n)}}}function Hn(s){let e,n=[],t=new Map,r,l,i=s[3](s[1].text)+"",o,a=te(xe);const f=u=>u[7].value;for(let u=0;u<a.length;u+=1){let c=Vn(s,a,u),g=f(c);t.set(g,n[u]=jn(g,c))}return{c(){e=y("div");for(let u=0;u<n.length;u+=1)n[u].c();r=R(),l=y("div"),o=j(i),p(e,"class","mb-4 flex flex-row space-x-5"),p(l,"class","text-slate-500")},m(u,c){w(u,e,c);for(let g=0;g<n.length;g+=1)n[g]&&n[g].m(e,null);w(u,r,c),w(u,l,c),C(l,o)},p(u,c){c&2&&(a=te(xe),n=he(n,c,f,1,u,a,t,e,es,jn,null,Vn)),c&10&&i!==(i=u[3](u[1].text)+"")&&G(o,i)},d(u){u&&(v(e),v(r),v(l));for(let c=0;c<n.length;c+=1)n[c].d()}}}function jn(s,e){let n;return{key:s,first:null,c(){n=y("div"),n.innerHTML=`<img src="${_r(e[7].name)}" alt="${e[7].name}"/> `,p(n,"class","mx-2 text-lg opacity-10 w-60px h-60px rounded-full shadow-lg"),A(n,"opacity-100",e[7].value===e[1].value),this.first=n},m(t,r){w(t,n,r)},p(t,r){e=t,r&2&&A(n,"opacity-100",e[7].value===e[1].value)},d(t){t&&v(n)}}}function fu(s){let e,n;return e=new De({props:{testId:K.chatRatingFeedbackButton,variant:"outline",$$slots:{default:[cu]},$$scope:{ctx:s}}}),e.$on("click",s[4]),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&1032&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function uu(s){let e,n;return{c(){e=y("div"),n=j(s[0]),p(e,"class","p-4 bg-white rounded-3xl whitespace-pre-wrap break-all")},m(t,r){w(t,e,r),C(e,n)},p(t,r){r&1&&G(n,t[0])},i:S,o:S,d(t){t&&v(e)}}}function cu(s){let e,n=s[3]("agentRating.all.placeholder")+"",t;return{c(){e=j(" "),t=j(n)},m(r,l){w(r,e,l),w(r,t,l)},p(r,l){l&8&&n!==(n=r[3]("agentRating.all.placeholder")+"")&&G(t,n)},d(r){r&&(v(e),v(t))}}}function mu(s){let e,n=s[3]("rating.button.rate")+"",t;return{c(){e=j(" "),t=j(n)},m(r,l){w(r,e,l),w(r,t,l)},p(r,l){l&8&&n!==(n=r[3]("rating.button.rate")+"")&&G(t,n)},d(r){r&&(v(e),v(t))}}}function du(s){let e,n,t,r;const l=[au,ou],i=[];function o(a,f){return a[2]?0:1}return e=o(s),n=i[e]=l[e](s),{c(){n.c(),t=X()},m(a,f){i[e].m(a,f),w(a,t,f),r=!0},p(a,[f]){let u=e;e=o(a),e===u?i[e].p(a,f):(O(),d(i[u],1,1,()=>{i[u]=null}),P(),n=i[e],n?n.p(a,f):(n=i[e]=l[e](a),n.c()),m(n,1),n.m(t.parentNode,t))},i(a){r||(m(n),r=!0)},o(a){d(n),r=!1},d(a){a&&v(t),i[e].d(a)}}}function gu(s,e,n){let t,r;E(s,oe,u=>n(3,r=u));let{message:l}=e,{ratingValue:i}=e,{ratingText:o}=e;const a=()=>{Xs(l.id)};let f;return s.$$set=u=>{"message"in u&&n(5,l=u.message),"ratingValue"in u&&n(6,i=u.ratingValue),"ratingText"in u&&n(0,o=u.ratingText)},s.$$.update=()=>{s.$$.dirty&65&&n(2,t=!i&&!o),s.$$.dirty&64&&n(1,f=gr[i??0])},[o,f,t,r,a,l,i]}class _u extends D{constructor(e){super(),B(this,e,gu,du,M,{message:5,ratingValue:6,ratingText:0})}}function pu(s){let e,n;return e=new Gr({props:{icon:ul,testId:K.avatarInfo}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p:S,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}class $u extends D{constructor(e){super(),B(this,e,null,pu,M,{})}}function hu(s){let e,n,t,r,l;return e=new $u({}),{c(){$(e.$$.fragment),n=R(),t=y("span"),r=j(s[0]),p(t,"class","ml-2 text-xs")},m(i,o){h(e,i,o),w(i,n,o),w(i,t,o),C(t,r),l=!0},p(i,[o]){(!l||o&1)&&G(r,i[0])},i(i){l||(m(e.$$.fragment,i),l=!0)},o(i){d(e.$$.fragment,i),l=!1},d(i){i&&(v(n),v(t)),b(e,i)}}}function bu(s,e,n){let{text:t}=e;return s.$$set=r=>{"text"in r&&n(0,t=r.text)},[t]}class wu extends D{constructor(e){super(),B(this,e,bu,hu,M,{text:0})}}function vu(s){var t,r;let e,n;return e=new _u({props:{message:s[0],ratingValue:(t=s[0].content.data)==null?void 0:t.value,ratingText:(r=s[0].content.data)==null?void 0:r.text}}),{c(){$(e.$$.fragment)},m(l,i){h(e,l,i),n=!0},p(l,i){var a,f;const o={};i&1&&(o.message=l[0]),i&1&&(o.ratingValue=(a=l[0].content.data)==null?void 0:a.value),i&1&&(o.ratingText=(f=l[0].content.data)==null?void 0:f.text),e.$set(o)},i(l){n||(m(e.$$.fragment,l),n=!0)},o(l){d(e.$$.fragment,l),n=!1},d(l){b(e,l)}}}function ku(s){let e,n;return e=new wu({props:{text:s[3]("systemMessage.chatClosed")}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&8&&(l.text=t[3]("systemMessage.chatClosed")),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Iu(s){let e,n;return e=new Je({props:{agentId:s[0].content.data.agentId,text:"systemMessage.chatResolved",createdAt:s[1]}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&1&&(l.agentId=t[0].content.data.agentId),r&2&&(l.createdAt=t[1]),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Cu(s){let e,n;return e=new Je({props:{agentId:s[0].content.data.agentId,text:qr,createdAt:s[1]}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&1&&(l.agentId=t[0].content.data.agentId),r&2&&(l.createdAt=t[1]),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Tu(s){let e,n;return e=new Je({props:{agentId:s[0].content.data.agentId,text:Xr,createdAt:s[1]}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&1&&(l.agentId=t[0].content.data.agentId),r&2&&(l.createdAt=t[1]),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Au(s){let e,n;return e=new Je({props:{agentId:s[0].content.data.unassigned,text:qr,createdAt:s[1]}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&1&&(l.agentId=t[0].content.data.unassigned),r&2&&(l.createdAt=t[1]),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function yu(s){let e,n;return e=new Je({props:{agentId:s[0].content.data.assigned,text:Xr,createdAt:s[1]}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&1&&(l.agentId=t[0].content.data.assigned),r&2&&(l.createdAt=t[1]),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Mu(s){let e,n,t,r,l,i;const o=[yu,Au,Tu,Cu,Iu,ku,vu],a=[];function f(u,c){return u[0].content.type===Z.MessageContentType.AgentAssign?0:u[0].content.type===Z.MessageContentType.AgentUnassign?1:u[0].content.type===Z.MessageContentType.AgentJoin?2:u[0].content.type===Z.MessageContentType.AgentLeave?3:u[0].content.type===Z.MessageContentType.ChatClose?4:u[0].content.type===Z.MessageContentType.ChatVisitorClose?5:u[0].content.type===Z.MessageContentType.RateForm?6:-1}return~(n=f(s))&&(t=a[n]=o[n](s)),{c(){e=y("div"),t&&t.c(),p(e,"class","flex items-center my-4 text-gray-400"),p(e,"data-testid",r=s[4](s[0].content.type))},m(u,c){w(u,e,c),~n&&a[n].m(e,null),i=!0},p(u,[c]){let g=n;n=f(u),n===g?~n&&a[n].p(u,c):(t&&(O(),d(a[g],1,1,()=>{a[g]=null}),P()),~n?(t=a[n],t?t.p(u,c):(t=a[n]=o[n](u),t.c()),m(t,1),t.m(e,null)):t=null),(!i||c&1&&r!==(r=u[4](u[0].content.type)))&&p(e,"data-testid",r)},i(u){i||(m(t),u&&(l||me(()=>{l=_e(e,rt,{duration:350,x:-20}),l.start()})),i=!0)},o(u){d(t),i=!1},d(u){u&&v(e),~n&&a[n].d()}}}const Xr="agentTransfer.joined",qr="agentTransfer.left";function Du(s,e,n){let t,r,l,i,o=S,a=()=>(o(),o=fe(t,c=>n(5,i=c)),t),f;E(s,oe,c=>n(3,f=c)),s.$$.on_destroy.push(()=>o());const u=c=>{const g=Object.keys(Z.MessageContentType)[Object.values(Z.MessageContentType).indexOf(c)];return`${K.systemMessage}${g}`};return s.$$.update=()=>{s.$$.dirty&32&&n(0,{message:r}=i,r),s.$$.dirty&1&&n(1,{createdAt:l}=r,l)},a(n(2,t=ce(ge))),[r,l,t,f,u,i]}class Bu extends D{constructor(e){super(),B(this,e,Du,Mu,M,{})}}function Wn(s){let e,n;return e=new Ue({props:{$$slots:{default:[Lu]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&39&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Su(s){let e,n;return e=new lt({props:{text:s[1]}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&2&&(l.text=t[1]),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Fu(s){let e,n;return e=new Xe({props:{$$slots:{default:[Su]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&34&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Lu(s){let e,n,t,r;return e=new qe({props:{createdAt:s[0],$$slots:{default:[Fu]},$$scope:{ctx:s}}}),t=new Ye({props:{id:s[2],createdAt:s[0]}}),{c(){$(e.$$.fragment),n=R(),$(t.$$.fragment)},m(l,i){h(e,l,i),w(l,n,i),h(t,l,i),r=!0},p(l,i){const o={};i&1&&(o.createdAt=l[0]),i&34&&(o.$$scope={dirty:i,ctx:l}),e.$set(o);const a={};i&4&&(a.id=l[2]),i&1&&(a.createdAt=l[0]),t.$set(a)},i(l){r||(m(e.$$.fragment,l),m(t.$$.fragment,l),r=!0)},o(l){d(e.$$.fragment,l),d(t.$$.fragment,l),r=!1},d(l){l&&v(n),b(e,l),b(t,l)}}}function Ru(s){let e,n,t=s[1]&&Wn(s);return{c(){t&&t.c(),e=X()},m(r,l){t&&t.m(r,l),w(r,e,l),n=!0},p(r,[l]){r[1]?t?(t.p(r,l),l&2&&m(t,1)):(t=Wn(r),t.c(),m(t,1),t.m(e.parentNode,e)):t&&(O(),d(t,1,1,()=>{t=null}),P())},i(r){n||(m(t),n=!0)},o(r){d(t),n=!1},d(r){r&&v(e),t&&t.d(r)}}}function Eu(s,e,n){let t,r,l,i,o,a=S,f=()=>(a(),a=fe(t,u=>n(4,o=u)),t);return s.$$.on_destroy.push(()=>a()),s.$$.update=()=>{s.$$.dirty&16&&n(2,{message:{id:r,content:{text:l},createdAt:i}}=o,r,(n(1,l),n(4,o)),(n(0,i),n(4,o)))},f(n(3,t=ce(ge))),[i,l,r,t,o]}class Nu extends D{constructor(e){super(),B(this,e,Eu,Ru,M,{})}}function Ou(s){let e,n;return e=new Nu({}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p:S,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Pu(s){let e,n,t,r;const l=[zu,Wu],i=[];function o(a,f){return a[1].type===zt.BotMessage?0:a[1].type===zt.BotReplies?1:-1}return~(e=o(s))&&(n=i[e]=l[e](s)),{c(){n&&n.c(),t=X()},m(a,f){~e&&i[e].m(a,f),w(a,t,f),r=!0},p(a,f){let u=e;e=o(a),e!==u&&(n&&(O(),d(i[u],1,1,()=>{i[u]=null}),P()),~e?(n=i[e],n||(n=i[e]=l[e](a),n.c()),m(n,1),n.m(t.parentNode,t)):n=null)},i(a){r||(m(n),r=!0)},o(a){d(n),r=!1},d(a){a&&v(t),~e&&i[e].d(a)}}}function Vu(s){let e,n;return e=new Bu({}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p:S,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Hu(s){let e,n;return e=new Pf({}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p:S,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function ju(s){let e,n;return e=new su({}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p:S,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Wu(s){let e,n;return e=new Qf({}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function zu(s){let e,n;return e=new Uf({}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Gu(s){let e,n,t,r;const l=[ju,Hu,Vu,Pu,Ou],i=[];function o(a,f){return a[0].subType===Z.MessageSubType.Contact?0:a[0].subType===Z.MessageSubType.Agent?1:a[0].subType===Z.MessageSubType.System?2:a[0].subType===Z.MessageSubType.Bot?3:a[0].subType===Z.MessageSubType.Trigger?4:-1}return~(e=o(s))&&(n=i[e]=l[e](s)),{c(){n&&n.c(),t=X()},m(a,f){~e&&i[e].m(a,f),w(a,t,f),r=!0},p(a,[f]){let u=e;e=o(a),e===u?~e&&i[e].p(a,f):(n&&(O(),d(i[u],1,1,()=>{i[u]=null}),P()),~e?(n=i[e],n?n.p(a,f):(n=i[e]=l[e](a),n.c()),m(n,1),n.m(t.parentNode,t)):n=null)},i(a){r||(m(n),r=!0)},o(a){d(n),r=!1},d(a){a&&v(t),~e&&i[e].d(a)}}}function Uu(s,e,n){let t,r,l,{context:i}=e,o=ye(i);return E(s,o,a=>n(4,l=a)),ar(ge,o),s.$$set=a=>{"context"in a&&n(3,i=a.context)},s.$$.update=()=>{s.$$.dirty&24&&l!==i&&o.set(i),s.$$.dirty&8&&n(1,{group:t,message:r}=i,t,(n(0,r),n(3,i)))},[r,t,o,i,l]}class Xu extends D{constructor(e){super(),B(this,e,Uu,Gu,M,{context:3})}}function zn(s,e,n){const t=s.slice();return t[20]=e[n].id,t[21]=e[n].messagesContext,t[22]=e[n].align,t[23]=e[n].agentId,t[24]=e[n].showAvatar,t[25]=e[n].useFullWidth,t[26]=e[n].isBot,t}function Gn(s,e,n){const t=s.slice();return t[29]=e[n],t[30]=e,t[31]=n,t}function Un(s,e){let n,t,r=e[29],l;t=new Xu({props:{context:e[21][e[31]]}});const i=()=>e[12](n,r),o=()=>e[12](null,r);return{key:s,first:null,c(){n=y("div"),$(t.$$.fragment),p(n,"class","scroll-mt-2"),A(n,"mt-0.5",e[31]!==0),A(n,"w-full",e[25]),A(n,"max-w-[85%]",!e[25]),this.first=n},m(a,f){w(a,n,f),h(t,n,null),i(),l=!0},p(a,f){e=a;const u={};f[0]&8&&(u.context=e[21][e[31]]),t.$set(u),r!==e[29]&&(o(),r=e[29],i()),(!l||f[0]&8)&&A(n,"mt-0.5",e[31]!==0),(!l||f[0]&8)&&A(n,"w-full",e[25]),(!l||f[0]&8)&&A(n,"max-w-[85%]",!e[25])},i(a){l||(m(t.$$.fragment,a),l=!0)},o(a){d(t.$$.fragment,a),l=!1},d(a){a&&v(n),b(t),o()}}}function qu(s){let e=[],n=new Map,t,r,l=te(s[21]);const i=o=>o[29].message.id;for(let o=0;o<l.length;o+=1){let a=Gn(s,l,o),f=i(a);n.set(f,e[o]=Un(f,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();t=X()},m(o,a){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(o,a);w(o,t,a),r=!0},p(o,a){a[0]&24&&(l=te(o[21]),O(),e=he(e,a,i,1,o,l,n,t.parentNode,Ce,Un,t,Gn),P())},i(o){if(!r){for(let a=0;a<l.length;a+=1)m(e[a]);r=!0}},o(o){for(let a=0;a<e.length;a+=1)d(e[a]);r=!1},d(o){o&&v(t);for(let a=0;a<e.length;a+=1)e[a].d(o)}}}function Xn(s,e){let n,t,r;return t=new ja({props:{align:e[22],agentId:e[23],showAvatar:e[24],isBot:e[26],messagesContext:e[21],$$slots:{default:[qu]},$$scope:{ctx:e}}}),{key:s,first:null,c(){n=X(),$(t.$$.fragment),this.first=n},m(l,i){w(l,n,i),h(t,l,i),r=!0},p(l,i){e=l;const o={};i[0]&8&&(o.align=e[22]),i[0]&8&&(o.agentId=e[23]),i[0]&8&&(o.showAvatar=e[24]),i[0]&8&&(o.isBot=e[26]),i[0]&8&&(o.messagesContext=e[21]),i[0]&24|i[1]&2&&(o.$$scope={dirty:i,ctx:e}),t.$set(o)},i(l){r||(m(t.$$.fragment,l),r=!0)},o(l){d(t.$$.fragment,l),r=!1},d(l){l&&v(n),b(t,l)}}}function qn(s){let e,n,t;function r(i){s[13](i)}let l={};return s[0]!==void 0&&(l.ref=s[0]),e=new Ga({props:l}),de.push(()=>ke(e,"ref",r)),{c(){$(e.$$.fragment)},m(i,o){h(e,i,o),t=!0},p(i,o){const a={};!n&&o[0]&1&&(n=!0,a.ref=i[0],Ie(()=>n=!1)),e.$set(a)},i(i){t||(m(e.$$.fragment,i),t=!0)},o(i){d(e.$$.fragment,i),t=!1},d(i){b(e,i)}}}function Yu(s){let e,n=[],t=new Map,r,l,i=te(s[3]);const o=f=>f[20];for(let f=0;f<i.length;f+=1){let u=zn(s,i,f),c=o(u);t.set(c,n[f]=Xn(c,u))}let a=s[1]&&qn(s);return{c(){e=y("div");for(let f=0;f<n.length;f+=1)n[f].c();r=R(),a&&a.c(),p(e,"class","p-4 flex-grow overflow-x-hidden overflow-y-scroll overscroll-contain")},m(f,u){w(f,e,u);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(e,null);C(e,r),a&&a.m(e,null),s[14](e),l=!0},p(f,u){u[0]&24&&(i=te(f[3]),O(),n=he(n,u,o,1,f,i,t,e,Ce,Xn,r,zn),P()),f[1]?a?(a.p(f,u),u[0]&2&&m(a,1)):(a=qn(f),a.c(),m(a,1),a.m(e,null)):a&&(O(),d(a,1,1,()=>{a=null}),P())},i(f){if(!l){for(let u=0;u<i.length;u+=1)m(n[u]);m(a),l=!0}},o(f){for(let u=0;u<n.length;u+=1)d(n[u]);d(a),l=!1},d(f){f&&v(e);for(let u=0;u<n.length;u+=1)n[u].d();a&&a.d(),s[14](null)}}}function Ju(s,e,n){let t,r,l,i,o,a,f;E(s,kt,L=>n(6,t=L)),E(s,vr,L=>n(7,r=L)),E(s,qs,L=>n(8,l=L)),E(s,Ys,L=>n(9,i=L)),E(s,Js,L=>n(10,o=L)),E(s,pt,L=>n(11,a=L)),E(s,Ks,L=>n(1,f=L));let u,c,g=[];const _={};Se(()=>{r&&T(r)});const k=()=>{u&&n(2,u.scrollTop=u.scrollHeight,u)},I=(L,Q=0)=>{const Ae=Date.now();requestAnimationFrame(()=>{if(!u)return;k();const pe=Date.now()-Ae+Q;pe<L&&I(L,pe)})},T=L=>{const Q=_[L];Q&&mt(Q)},F=async L=>{await ts();const Q=_[L];Q&&setTimeout(()=>{mt(Q,{behavior:"smooth"},{duration:500})},100)},U=()=>{c&&mt(c,{behavior:"smooth"},{duration:500})};let Y=t;function z(L,Q){de[L?"unshift":"push"](()=>{_[Q.message.id]=L,n(4,_)})}function N(L){c=L,n(0,c)}function W(L){de[L?"unshift":"push"](()=>{u=L,n(2,u)})}return s.$$.update=()=>{s.$$.dirty[0]&3&&f&&c&&U(),s.$$.dirty[0]&3200&&r&&o&&!a&&(n(3,g=o),F(r)),s.$$.dirty[0]&512&&i&&k(),s.$$.dirty[0]&256&&l>0&&k(),s.$$.dirty[0]&224&&(Y&&!t&&r&&I(250),n(5,Y=t))},[c,f,u,g,_,Y,t,r,l,i,o,a,z,N,W]}class Ku extends D{constructor(e){super(),B(this,e,Ju,Yu,M,{},null,[-1,-1])}}function Qu(s){let e,n,t,r=[{width:"100%"},{height:"100%"},{viewBox:"0 0 24 24"},{version:"1.1"},{xmlns:"http://www.w3.org/2000/svg"},{"xmlns:xlink":"http://www.w3.org/1999/xlink"},{"xml:space":"preserve"},{"fill-rule":"evenodd"},{"clip-rule":"evenodd"},{"stroke-linecap":"round"},{"stroke-linejoin":"round"},s[0]],l={};for(let i=0;i<r.length;i+=1)l=H(l,r[i]);return{c(){e=q("svg"),n=q("g"),t=q("path"),p(t,"d","M6,9L12,15L18,9"),V(t,"fill","none"),V(t,"fill-rule","nonzero"),V(t,"stroke","currentColor"),V(t,"stroke-width","1.67px"),p(n,"transform","matrix(1.17105,0,0,1.17105,-2.05262,-2.05262)"),ae(e,l)},m(i,o){w(i,e,o),C(e,n),C(n,t)},p(i,[o]){ae(e,l=ue(r,[{width:"100%"},{height:"100%"},{viewBox:"0 0 24 24"},{version:"1.1"},{xmlns:"http://www.w3.org/2000/svg"},{"xmlns:xlink":"http://www.w3.org/1999/xlink"},{"xml:space":"preserve"},{"fill-rule":"evenodd"},{"clip-rule":"evenodd"},{"stroke-linecap":"round"},{"stroke-linejoin":"round"},o&1&&i[0]]))},i:S,o:S,d(i){i&&v(e)}}}function Zu(s,e,n){const t=[];let r=ee(e,t);return s.$$set=l=>{e=H(H({},e),ne(l)),n(0,r=ee(e,t))},[r]}class xu extends D{constructor(e){super(),B(this,e,Zu,Qu,M,{})}}function ec(s){let e,n,t,r,l,i,o=[{width:"100%"},{height:"100%"},{viewBox:"0 0 24 24"},{version:"1.1"},{xmlns:"http://www.w3.org/2000/svg"},{"xmlns:xlink":"http://www.w3.org/1999/xlink"},{"xml:space":"preserve"},{"fill-rule":"evenodd"},{"clip-rule":"evenodd"},{"stroke-linecap":"round"},{"stroke-linejoin":"round"},s[0]],a={};for(let f=0;f<o.length;f+=1)a=H(a,o[f]);return{c(){e=q("svg"),n=q("circle"),t=q("g"),r=q("circle"),l=q("g"),i=q("circle"),p(n,"cx","12"),p(n,"cy","12"),p(n,"r","1"),V(n,"fill","none"),V(n,"stroke","currentColor"),V(n,"stroke-width","2px"),p(r,"cx","12"),p(r,"cy","5"),p(r,"r","1"),V(r,"fill","none"),V(r,"stroke","currentColor"),V(r,"stroke-width","2px"),p(t,"transform","matrix(1,0,0,1,0,1)"),p(i,"cx","12"),p(i,"cy","19"),p(i,"r","1"),V(i,"fill","none"),V(i,"stroke","currentColor"),V(i,"stroke-width","2px"),p(l,"transform","matrix(1,0,0,1,0,-1)"),ae(e,a)},m(f,u){w(f,e,u),C(e,n),C(e,t),C(t,r),C(e,l),C(l,i)},p(f,[u]){ae(e,a=ue(o,[{width:"100%"},{height:"100%"},{viewBox:"0 0 24 24"},{version:"1.1"},{xmlns:"http://www.w3.org/2000/svg"},{"xmlns:xlink":"http://www.w3.org/1999/xlink"},{"xml:space":"preserve"},{"fill-rule":"evenodd"},{"clip-rule":"evenodd"},{"stroke-linecap":"round"},{"stroke-linejoin":"round"},u&1&&f[0]]))},i:S,o:S,d(f){f&&v(e)}}}function tc(s,e,n){const t=[];let r=ee(e,t);return s.$$set=l=>{e=H(H({},e),ne(l)),n(0,r=ee(e,t))},[r]}class nc extends D{constructor(e){super(),B(this,e,tc,ec,M,{})}}function Yn(s){let e,n;return e=new be({props:{content:s[3]("tooltip.more"),placement:"bottom",delay:1e3,$$slots:{default:[rc]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&8&&(l.content=t[3]("tooltip.more")),r&8193&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function rc(s){var r;let e,n,t;return n=new Pe({props:{icon:nc,iconDescription:"Options",size:s[0],testId:s[7],disabled:(r=s[4])==null?void 0:r.disableOptionsButton}}),n.$on("click",s[6]),{c(){e=y("div"),$(n.$$.fragment),p(e,"class","ml-1")},m(l,i){w(l,e,i),h(n,e,null),t=!0},p(l,i){const o={};i&1&&(o.size=l[0]),n.$set(o)},i(l){t||(m(n.$$.fragment,l),t=!0)},o(l){d(n.$$.fragment,l),t=!1},d(l){l&&v(e),b(n)}}}function sc(s){var r;let e,n,t;return n=new Pe({props:{icon:xu,iconDescription:"Minimize",size:s[0],testId:s[8],disabled:(r=s[4])==null?void 0:r.disableCloseButton}}),n.$on("click",Ct),{c(){e=y("div"),$(n.$$.fragment),p(e,"class","ml-1")},m(l,i){w(l,e,i),h(n,e,null),t=!0},p(l,i){const o={};i&1&&(o.size=l[0]),n.$set(o)},i(l){t||(m(n.$$.fragment,l),t=!0)},o(l){d(n.$$.fragment,l),t=!1},d(l){l&&v(e),b(n)}}}function Jn(s){let e,n,t;return n=new be({props:{content:s[3]("tooltip.close"),placement:"bottom",delay:1e3,$$slots:{default:[lc]},$$scope:{ctx:s}}}),{c(){e=y("div"),$(n.$$.fragment),A(e,"animate-push-to-left",s[2])},m(r,l){w(r,e,l),h(n,e,null),t=!0},p(r,l){const i={};l&8&&(i.content=r[3]("tooltip.close")),l&8193&&(i.$$scope={dirty:l,ctx:r}),n.$set(i),(!t||l&4)&&A(e,"animate-push-to-left",r[2])},i(r){t||(m(n.$$.fragment,r),t=!0)},o(r){d(n.$$.fragment,r),t=!1},d(r){r&&v(e),b(n)}}}function lc(s){var r;let e,n,t;return n=new Pe({props:{icon:cr,iconDescription:"Close",size:s[0],testId:s[9],disabled:(r=s[4])==null?void 0:r.disableCloseButton}}),n.$on("click",s[5]),{c(){e=y("div"),$(n.$$.fragment),p(e,"class","ml-1")},m(l,i){w(l,e,i),h(n,e,null),t=!0},p(l,i){const o={};i&1&&(o.size=l[0]),n.$set(o)},i(l){t||(m(n.$$.fragment,l),t=!0)},o(l){d(n.$$.fragment,l),t=!1},d(l){l&&v(e),b(n)}}}function ic(s){let e,n,t,r,l,i=s[1]&&Yn(s);t=new be({props:{content:s[3]("tooltip.minimize"),placement:"bottom",delay:1e3,$$slots:{default:[sc]},$$scope:{ctx:s}}});let o=s[2]&&Jn(s);return{c(){e=y("div"),i&&i.c(),n=R(),$(t.$$.fragment),r=R(),o&&o.c(),p(e,"class","flex-center flex-shrink-0 overflow-hidden")},m(a,f){w(a,e,f),i&&i.m(e,null),C(e,n),h(t,e,null),C(e,r),o&&o.m(e,null),l=!0},p(a,[f]){a[1]?i?(i.p(a,f),f&2&&m(i,1)):(i=Yn(a),i.c(),m(i,1),i.m(e,n)):i&&(O(),d(i,1,1,()=>{i=null}),P());const u={};f&8&&(u.content=a[3]("tooltip.minimize")),f&8193&&(u.$$scope={dirty:f,ctx:a}),t.$set(u),a[2]?o?(o.p(a,f),f&4&&m(o,1)):(o=Jn(a),o.c(),m(o,1),o.m(e,null)):o&&(O(),d(o,1,1,()=>{o=null}),P())},i(a){l||(m(i),m(t.$$.fragment,a),m(o),l=!0)},o(a){d(i),d(t.$$.fragment,a),d(o),l=!1},d(a){a&&v(e),i&&i.d(),b(t),o&&o.d()}}}function oc(s,e,n){let t,r,l,i,o,a;E(s,Qs,T=>n(2,r=T)),E(s,Zs,T=>n(10,l=T)),E(s,$r,T=>n(11,i=T)),E(s,It,T=>n(12,o=T)),E(s,oe,T=>n(3,a=T));const{widgetBlockingOptions:f}=Fe.getOptions();let u;const c=()=>{r?_t(we.CloseChat):Ct()},g=()=>{_t(we.Options)},{buttonOptions:_,buttonMinimizeChat:k,buttonCloseChat:I}=K;return s.$$.update=()=>{s.$$.dirty&4096&&n(0,u=o?"lg":"md"),s.$$.dirty&3072&&n(1,t=!(i&&l.length>1))},[u,t,r,a,f,c,g,_,k,I,l,i,o]}class Yr extends D{constructor(e){super(),B(this,e,oc,ic,M,{})}}function ac(s){let e,n,t,r,l,i,o,a,f,u=[{width:"100%"},{height:"100%"},{viewBox:"0 0 24 24"},{version:"1.1"},{xmlns:"http://www.w3.org/2000/svg"},{"xmlns:xlink":"http://www.w3.org/1999/xlink"},{"xml:space":"preserve"},{"fill-rule":"evenodd"},{"clip-rule":"evenodd"},{"stroke-linecap":"round"},{"stroke-linejoin":"round"},s[0]],c={};for(let g=0;g<u.length;g+=1)c=H(c,u[g]);return{c(){e=q("svg"),n=q("g"),t=q("path"),r=q("g"),l=q("path"),i=q("g"),o=q("path"),a=q("g"),f=q("path"),p(t,"d","M15,3L21,3L21,9"),V(t,"fill","none"),V(t,"fill-rule","nonzero"),V(t,"stroke","currentColor"),V(t,"stroke-width","2px"),p(n,"transform","matrix(-1,0.000780613,0.000780613,1,33.9953,9.98595)"),p(l,"d","M9,21L3,21L3,15"),V(l,"fill","none"),V(l,"fill-rule","nonzero"),V(l,"stroke","currentColor"),V(l,"stroke-width","2px"),p(r,"transform","matrix(-1,-0.000254637,-0.000254637,1,14.0046,-9.99847)"),p(o,"d","M21,3L14,10"),V(o,"fill","none"),V(o,"fill-rule","nonzero"),V(o,"stroke","currentColor"),V(o,"stroke-width","2px"),p(i,"transform","matrix(0.857864,-0.142136,0.142136,-0.857864,0.558456,24.5585)"),p(f,"d","M3,21L10,14"),V(f,"fill","none"),V(f,"fill-rule","nonzero"),V(f,"stroke","currentColor"),V(f,"stroke-width","2px"),p(a,"transform","matrix(0.858562,-0.141438,0.141438,-0.858562,-0.545877,23.4541)"),ae(e,c)},m(g,_){w(g,e,_),C(e,n),C(n,t),C(e,r),C(r,l),C(e,i),C(i,o),C(e,a),C(a,f)},p(g,[_]){ae(e,c=ue(u,[{width:"100%"},{height:"100%"},{viewBox:"0 0 24 24"},{version:"1.1"},{xmlns:"http://www.w3.org/2000/svg"},{"xmlns:xlink":"http://www.w3.org/1999/xlink"},{"xml:space":"preserve"},{"fill-rule":"evenodd"},{"clip-rule":"evenodd"},{"stroke-linecap":"round"},{"stroke-linejoin":"round"},_&1&&g[0]]))},i:S,o:S,d(g){g&&v(e)}}}function fc(s,e,n){const t=[];let r=ee(e,t);return s.$$set=l=>{e=H(H({},e),ne(l)),n(0,r=ee(e,t))},[r]}class uc extends D{constructor(e){super(),B(this,e,fc,ac,M,{})}}function cc(s){let e,n,t,r,l,i,o,a,f,u=[{width:"100%"},{height:"100%"},{viewBox:"0 0 24 24"},{version:"1.1"},{xmlns:"http://www.w3.org/2000/svg"},{"xmlns:xlink":"http://www.w3.org/1999/xlink"},{"xml:space":"preserve"},{"fill-rule":"evenodd"},{"clip-rule":"evenodd"},{"stroke-linecap":"round"},{"stroke-linejoin":"round"},s[0]],c={};for(let g=0;g<u.length;g+=1)c=H(c,u[g]);return{c(){e=q("svg"),n=q("g"),t=q("path"),r=q("g"),l=q("path"),i=q("g"),o=q("path"),a=q("g"),f=q("path"),p(t,"d","M15,3L21,3L21,9"),V(t,"fill","none"),V(t,"fill-rule","nonzero"),V(t,"stroke","currentColor"),V(t,"stroke-width","2px"),p(n,"transform","matrix(1,0,0,-1,-2,22)"),p(l,"d","M9,21L3,21L3,15"),V(l,"fill","none"),V(l,"fill-rule","nonzero"),V(l,"stroke","currentColor"),V(l,"stroke-width","2px"),p(r,"transform","matrix(1,0,0,-1,2,26)"),p(o,"d","M21,3L14,10"),V(o,"fill","none"),V(o,"fill-rule","nonzero"),V(o,"stroke","currentColor"),V(o,"stroke-width","2px"),p(i,"transform","matrix(0.857864,-0.142136,0.142136,-0.857864,0.558456,24.5585)"),p(f,"d","M3,21L10,14"),V(f,"fill","none"),V(f,"fill-rule","nonzero"),V(f,"stroke","currentColor"),V(f,"stroke-width","2px"),p(a,"transform","matrix(0.858562,-0.141438,0.141438,-0.858562,-0.545877,23.4541)"),ae(e,c)},m(g,_){w(g,e,_),C(e,n),C(n,t),C(e,r),C(r,l),C(e,i),C(i,o),C(e,a),C(a,f)},p(g,[_]){ae(e,c=ue(u,[{width:"100%"},{height:"100%"},{viewBox:"0 0 24 24"},{version:"1.1"},{xmlns:"http://www.w3.org/2000/svg"},{"xmlns:xlink":"http://www.w3.org/1999/xlink"},{"xml:space":"preserve"},{"fill-rule":"evenodd"},{"clip-rule":"evenodd"},{"stroke-linecap":"round"},{"stroke-linejoin":"round"},_&1&&g[0]]))},i:S,o:S,d(g){g&&v(e)}}}function mc(s,e,n){const t=[];let r=ee(e,t);return s.$$set=l=>{e=H(H({},e),ne(l)),n(0,r=ee(e,t))},[r]}class dc extends D{constructor(e){super(),B(this,e,mc,cc,M,{})}}function gc(s){let e,n;return e=new be({props:{content:s[1]("tooltip.expand"),placement:"bottom",delay:1e3,$$slots:{default:[pc]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&2&&(l.content=t[1]("tooltip.expand")),r&256&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function _c(s){let e,n;return e=new be({props:{content:s[1]("tooltip.collapse"),placement:"bottom",delay:1e3,$$slots:{default:[$c]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&2&&(l.content=t[1]("tooltip.collapse")),r&256&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function pc(s){var t;let e,n;return e=new Pe({props:{icon:dc,iconDescription:"Expand",iconOrientation:s[2],testId:s[7],disabled:(t=s[3])==null?void 0:t.disableExpandButton}}),e.$on("click",s[4]),{c(){$(e.$$.fragment)},m(r,l){h(e,r,l),n=!0},p:S,i(r){n||(m(e.$$.fragment,r),n=!0)},o(r){d(e.$$.fragment,r),n=!1},d(r){b(e,r)}}}function $c(s){var t;let e,n;return e=new Pe({props:{icon:uc,iconDescription:"Collapse",iconOrientation:s[2],testId:s[6],disabled:(t=s[3])==null?void 0:t.disableExpandButton}}),e.$on("click",s[5]),{c(){$(e.$$.fragment)},m(r,l){h(e,r,l),n=!0},p:S,i(r){n||(m(e.$$.fragment,r),n=!0)},o(r){d(e.$$.fragment,r),n=!1},d(r){b(e,r)}}}function hc(s){let e,n,t,r,l,i,o;const a=[_c,gc],f=[];function u(c,g){return c[0]?0:1}return t=u(s),r=f[t]=a[t](s),i=new Yr({}),{c(){e=y("div"),n=y("div"),r.c(),l=R(),$(i.$$.fragment),p(e,"class","h-32px flex mx-2 mt-2 justify-between overflow-hidden")},m(c,g){w(c,e,g),C(e,n),f[t].m(n,null),C(e,l),h(i,e,null),o=!0},p(c,[g]){let _=t;t=u(c),t===_?f[t].p(c,g):(O(),d(f[_],1,1,()=>{f[_]=null}),P(),r=f[t],r?r.p(c,g):(r=f[t]=a[t](c),r.c()),m(r,1),r.m(n,null))},i(c){o||(m(r),m(i.$$.fragment,c),o=!0)},o(c){d(r),d(i.$$.fragment,c),o=!1},d(c){c&&v(e),f[t].d(),b(i)}}}function bc(s,e,n){let t,r;E(s,kt,c=>n(0,t=c)),E(s,oe,c=>n(1,r=c));const{orientation:l,widgetBlockingOptions:i}=Fe.getOptions(),o=()=>{Gt(!0)},a=()=>{Gt(!1)},{buttonCollapseChat:f,buttonExpandChat:u}=K;return[t,r,l,i,o,a,f,u]}class wc extends D{constructor(e){super(),B(this,e,bc,hc,M,{})}}function vc(s){let e,n,t;const r=s[2].default,l=re(r,s,s[1],null);return{c(){e=y("span"),l&&l.c()},m(i,o){w(i,e,o),l&&l.m(e,null),t=!0},p(i,[o]){s=i,l&&l.p&&(!t||o&2)&&se(l,r,s,s[1],t?ie(r,s[1],o,null):le(s[1]),null)},i(i){t||(m(l,i),i&&(n||me(()=>{n=_e(e,Ee,{delay:s[0]}),n.start()})),t=!0)},o(i){d(l,i),t=!1},d(i){i&&v(e),l&&l.d(i)}}}function kc(s,e,n){let{$$slots:t={},$$scope:r}=e,{delay:l=void 0}=e;return s.$$set=i=>{"delay"in i&&n(0,l=i.delay),"$$scope"in i&&n(1,r=i.$$scope)},[l,r,t]}class Ve extends D{constructor(e){super(),B(this,e,kc,vc,M,{delay:0})}}function Kn(s){let e,n,t;return{c(){e=y("div"),n=y("div"),p(n,"class","w-2.5 h-2.5 mr-1.5 bg-green-400 border-2 border-green-400 rounded-full shadow"),p(n,"data-testid",K.headerBadge),p(e,"class","flex-shrink-0")},m(r,l){w(r,e,l),C(e,n)},p(r,l){},i(r){r&&(t||me(()=>{t=_e(n,fr,{delay:Bc}),t.start()}))},o:S,d(r){r&&v(e)}}}function Ic(s){let e,n;return e=new Ve({props:{delay:St,$$slots:{default:[Ac]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&40&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Cc(s){let e,n;return e=new Ve({props:{delay:St,$$slots:{default:[yc]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&40&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Tc(s){let e,n;return e=new Ve({props:{delay:St,$$slots:{default:[Mc]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&34&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Ac(s){let e=s[3]("statusBar.offlineText")+"",n;return{c(){n=j(e)},m(t,r){w(t,n,r)},p(t,r){r&8&&e!==(e=t[3]("statusBar.offlineText")+"")&&G(n,e)},d(t){t&&v(n)}}}function yc(s){let e=s[3]("statusBar.onlineText")+"",n;return{c(){n=j(e)},m(t,r){w(t,n,r)},p(t,r){r&8&&e!==(e=t[3]("statusBar.onlineText")+"")&&G(n,e)},d(t){t&&v(n)}}}function Mc(s){let e;return{c(){e=j(s[1])},m(n,t){w(n,e,t)},p(n,t){t&2&&G(e,n[1])},d(n){n&&v(e)}}}function Dc(s){let e,n,t,r,l,i,o=s[2]&&Kn();const a=[Tc,Cc,Ic],f=[];function u(c,g){return c[1]?0:c[0]===He.AccountStatus.Online?1:c[0]===He.AccountStatus.Offline?2:-1}return~(r=u(s))&&(l=f[r]=a[r](s)),{c(){e=y("span"),o&&o.c(),n=R(),t=y("span"),l&&l.c(),p(t,"class","text-xs opacity-60 truncate"),p(t,"data-testid",K.headerStatus),p(e,"class","flex items-center")},m(c,g){w(c,e,g),o&&o.m(e,null),C(e,n),C(e,t),~r&&f[r].m(t,null),i=!0},p(c,[g]){c[2]?o?g&4&&m(o,1):(o=Kn(),o.c(),m(o,1),o.m(e,n)):o&&(o.d(1),o=null);let _=r;r=u(c),r===_?~r&&f[r].p(c,g):(l&&(O(),d(f[_],1,1,()=>{f[_]=null}),P()),~r?(l=f[r],l?l.p(c,g):(l=f[r]=a[r](c),l.c()),m(l,1),l.m(t,null)):l=null)},i(c){i||(m(o),m(l),i=!0)},o(c){d(l),i=!1},d(c){c&&v(e),o&&o.d(),~r&&f[r].d()}}}const Bc=150,St=300;function Sc(s,e,n){let t,r,l,i;E(s,xs,a=>n(4,t=a)),E(s,kr,a=>n(0,r=a)),E(s,el,a=>n(2,l=a)),E(s,oe,a=>n(3,i=a));let o;return s.$$.update=()=>{s.$$.dirty&17&&n(1,o=r===He.AccountStatus.Online&&t.length===1&&t[0].description)},[r,o,l,i,t]}class Fc extends D{constructor(e){super(),B(this,e,Sc,Dc,M,{})}}function Lc(s){let e,n;return e=new Ve({props:{$$slots:{default:[Nc]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&48&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Rc(s){let e,n;return e=new Ve({props:{$$slots:{default:[Oc]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&48&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Ec(s){let e,n;return e=new Ve({props:{$$slots:{default:[Pc]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const l={};r&36&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Nc(s){let e=s[4]("topBar.offline.hello")+"",n;return{c(){n=j(e)},m(t,r){w(t,n,r)},p(t,r){r&16&&e!==(e=t[4]("topBar.offline.hello")+"")&&G(n,e)},d(t){t&&v(n)}}}function Oc(s){let e=s[4]("topBar.online.hello")+"",n;return{c(){n=j(e)},m(t,r){w(t,n,r)},p(t,r){r&16&&e!==(e=t[4]("topBar.online.hello")+"")&&G(n,e)},d(t){t&&v(n)}}}function Pc(s){let e=s[2].map(Qn).join(", ")+"",n;return{c(){n=j(e)},m(t,r){w(t,n,r)},p(t,r){r&4&&e!==(e=t[2].map(Qn).join(", ")+"")&&G(n,e)},d(t){t&&v(n)}}}function Vc(s){let e,n,t,r;const l=[Ec,Rc,Lc],i=[];function o(a,f){return a[1]?0:a[3]===He.AccountStatus.Online?1:a[3]===He.AccountStatus.Offline?2:-1}return~(n=o(s))&&(t=i[n]=l[n](s)),{c(){e=y("div"),t&&t.c(),p(e,"class","font-medium truncate leading-6"),p(e,"data-testid",K.headerTitle),A(e,"text-lg",!s[0]),A(e,"text-base",s[0])},m(a,f){w(a,e,f),~n&&i[n].m(e,null),r=!0},p(a,[f]){let u=n;n=o(a),n===u?~n&&i[n].p(a,f):(t&&(O(),d(i[u],1,1,()=>{i[u]=null}),P()),~n?(t=i[n],t?t.p(a,f):(t=i[n]=l[n](a),t.c()),m(t,1),t.m(e,null)):t=null),(!r||f&1)&&A(e,"text-lg",!a[0]),(!r||f&1)&&A(e,"text-base",a[0])},i(a){r||(m(t),r=!0)},o(a){d(t),r=!1},d(a){a&&v(e),~n&&i[n].d()}}}const Qn=s=>s.fullname;function Hc(s,e,n){let t,r,l,i,o;return E(s,It,a=>n(0,t=a)),E(s,tl,a=>n(1,r=a)),E(s,cl,a=>n(2,l=a)),E(s,kr,a=>n(3,i=a)),E(s,oe,a=>n(4,o=a)),[t,r,l,i,o]}class jc extends D{constructor(e){super(),B(this,e,Hc,Vc,M,{})}}function Zn(s){let e,n;return e=new wc({}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function xn(s){let e,n;return e=new Yr({}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Wc(s){let e,n,t,r,l,i,o,a,f,u,c,g,_,k,I=!s[0]&&Zn();r=new ml({props:{size:"lg"}}),o=new jc({}),f=new Fc({});let T=s[0]&&xn();return{c(){e=y("div"),I&&I.c(),n=R(),t=y("div"),$(r.$$.fragment),l=R(),i=y("div"),$(o.$$.fragment),a=R(),$(f.$$.fragment),u=R(),T&&T.c(),p(i,"class","flex flex-1 flex-col justify-center min-w-0"),A(i,"ml-2",s[0]),A(i,"ml-3",!s[0]),p(t,"class",c=`flex ${s[0]?"h-68px items-center py-1 h-full":"h-64px mx-4 pb-3 pt-2"}`),p(e,"class","flex flex-col shrink-0 w-full bg-primary-gradient text-primary-content shadow-md z-1"),p(e,"data-testid",K.widgetHeader),A(e,"cursor-pointer",!st()&&!s[2]),A(e,"px-2",s[0]),A(e,"justify-center",s[0]),V(e,"height",s[1])},m(F,U){w(F,e,U),I&&I.m(e,null),C(e,n),C(e,t),h(r,t,null),C(t,l),C(t,i),h(o,i,null),C(i,a),h(f,i,null),C(t,u),T&&T.m(t,null),g=!0,_||(k=J(e,"click",s[3]),_=!0)},p(F,[U]){F[0]?I&&(O(),d(I,1,1,()=>{I=null}),P()):I?U&1&&m(I,1):(I=Zn(),I.c(),m(I,1),I.m(e,n)),(!g||U&1)&&A(i,"ml-2",F[0]),(!g||U&1)&&A(i,"ml-3",!F[0]),F[0]?T?U&1&&m(T,1):(T=xn(),T.c(),m(T,1),T.m(t,null)):T&&(O(),d(T,1,1,()=>{T=null}),P()),(!g||U&1&&c!==(c=`flex ${F[0]?"h-68px items-center py-1 h-full":"h-64px mx-4 pb-3 pt-2"}`))&&p(t,"class",c),(!g||U&1)&&A(e,"px-2",F[0]),(!g||U&1)&&A(e,"justify-center",F[0]),U&2&&V(e,"height",F[1])},i(F){g||(m(I),m(r.$$.fragment,F),m(o.$$.fragment,F),m(f.$$.fragment,F),m(T),g=!0)},o(F){d(I),d(r.$$.fragment,F),d(o.$$.fragment,F),d(f.$$.fragment,F),d(T),g=!1},d(F){F&&v(e),I&&I.d(),b(r),b(o),b(f),T&&T.d(),_=!1,k()}}}function zc(s,e,n){let t,r;E(s,It,o=>n(0,t=o)),E(s,nl,o=>n(1,r=o));const{widgetBlockingOptions:l}=Fe.getOptions();return[t,r,l,()=>{l||Ct()}]}class Gc extends D{constructor(e){super(),B(this,e,zc,Wc,M,{})}}function Uc(s){let e,n='<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242M12 12v9"/><path d="m16 16l-4-4l-4 4"/></g>',t=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},s[0]],r={};for(let l=0;l<t.length;l+=1)r=H(r,t[l]);return{c(){e=q("svg"),ae(e,r)},m(l,i){w(l,e,i),e.innerHTML=n},p(l,[i]){ae(e,r=ue(t,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i&1&&l[0]]))},i:S,o:S,d(l){l&&v(e)}}}function Xc(s,e,n){return s.$$set=t=>{n(0,e=H(H({},e),ne(t)))},e=ne(e),[e]}class qc extends D{constructor(e){super(),B(this,e,Xc,Uc,M,{})}}function er(s){let e,n,t,r,l,i,o=s[1]("dragAndDrop.dropHere")+"",a,f,u,c,g;return r=new qc({props:{width:"2em",height:"2em"}}),{c(){e=y("div"),n=y("div"),t=y("div"),$(r.$$.fragment),l=R(),i=y("span"),a=j(o),p(i,"class","whitespace-nowrap"),p(t,"class","flex flex-col items-center m-auto text-slate-400 text-lg"),p(n,"class","relative flex w-full h-full rounded-md border-primary border-dashed border-2 items-center"),p(e,"class","flex-grow p-4")},m(_,k){w(_,e,k),C(e,n),C(n,t),h(r,t,null),C(t,l),C(t,i),C(i,a),u=!0,c||(g=[J(e,"dragover",Re.handleDragOver),J(e,"drop",s[2])],c=!0)},p(_,k){(!u||k&2)&&o!==(o=_[1]("dragAndDrop.dropHere")+"")&&G(a,o)},i(_){u||(m(r.$$.fragment,_),_&&(f||me(()=>{f=_e(n,fr,{duration:200}),f.start()})),u=!0)},o(_){d(r.$$.fragment,_),u=!1},d(_){_&&v(e),b(r),c=!1,Be(g)}}}function Yc(s){let e,n,t=s[0]&&er(s);return{c(){t&&t.c(),e=X()},m(r,l){t&&t.m(r,l),w(r,e,l),n=!0},p(r,[l]){r[0]?t?(t.p(r,l),l&1&&m(t,1)):(t=er(r),t.c(),m(t,1),t.m(e.parentNode,e)):t&&(O(),d(t,1,1,()=>{t=null}),P())},i(r){n||(m(t),n=!0)},o(r){d(t),n=!1},d(r){r&&v(e),t&&t.d(r)}}}function Jc(s,e,n){let t,r;E(s,Re,o=>n(0,t=o)),E(s,oe,o=>n(1,r=o));const l=o=>{const{droppedFiles:a}=Re.handleDrop(o);rl(a)},i=o=>Re.handleDragOver(o,!1);return Se(()=>{Me().addEventListener("dragover",i)}),ns(()=>{Me().removeEventListener("dragover",i)}),[t,r,l]}class Kc extends D{constructor(e){super(),B(this,e,Jc,Yc,M,{})}}function tr(s){let e,n;return e=new Ku({}),{c(){$(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p:S,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Qc(s){let e,n,t,r,l,i,o=s[1],a,f,u,c,g,_,k,I,T,F,U,Y;n=new Gc({}),l=new dl({});let z=tr();return u=new gl({}),g=new Ar({}),k=new Kc({}),T=new na({}),{c(){e=y("div"),$(n.$$.fragment),t=R(),r=y("div"),$(l.$$.fragment),i=R(),z.c(),a=R(),f=y("div"),$(u.$$.fragment),c=R(),$(g.$$.fragment),_=R(),$(k.$$.fragment),I=R(),$(T.$$.fragment),p(r,"class","flex flex-col flex-grow relative overflow-hidden"),V(r,"display",s[0]?"none":"inherit"),p(f,"class","p-4 space-y-4"),V(f,"display",s[0]?"none":"block"),p(e,"class","flex flex-col h-full bg-white"),p(e,"data-testid",K.widgetMessenger)},m(N,W){w(N,e,W),h(n,e,null),C(e,t),C(e,r),h(l,r,null),C(r,i),z.m(r,null),C(e,a),C(e,f),h(u,f,null),C(f,c),h(g,f,null),C(e,_),h(k,e,null),C(e,I),h(T,e,null),F=!0,U||(Y=[J(e,"dragover",Re.handleDragOver),J(e,"drop",bt(s[2]))],U=!0)},p(N,[W]){W&2&&M(o,o=N[1])?(O(),d(z,1,1,S),P(),z=tr(),z.c(),m(z,1),z.m(r,null)):z.p(N,W),W&1&&V(r,"display",N[0]?"none":"inherit"),W&1&&V(f,"display",N[0]?"none":"block")},i(N){F||(m(n.$$.fragment,N),m(l.$$.fragment,N),m(z),m(u.$$.fragment,N),m(g.$$.fragment,N),m(k.$$.fragment,N),m(T.$$.fragment,N),F=!0)},o(N){d(n.$$.fragment,N),d(l.$$.fragment,N),d(z),d(u.$$.fragment,N),d(g.$$.fragment,N),d(k.$$.fragment,N),d(T.$$.fragment,N),F=!1},d(N){N&&v(e),b(n),b(l),z.d(N),b(u),b(g),b(k),b(T),U=!1,Be(Y)}}}function Zc(s,e,n){let t,r;E(s,Re,i=>n(0,t=i)),E(s,sl,i=>n(1,r=i)),Se(()=>{ll()});function l(i){x.call(this,s,i)}return[t,r,l]}class nm extends D{constructor(e){super(),B(this,e,Zc,Qc,M,{})}}export{nm as default};
//# sourceMappingURL=WidgetMessenger-ffc7bae7.js.map